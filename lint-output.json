node.exe : [{"filePath":"C:\\Users\\chott\\OneDrive - 譬ｪ蠑丈ｼ夂､
ｾJarminal\\GitHub\\starrepo\\src\\app\\admin\\games\\page.tsx
","messages":[{"ruleId":"react-hooks/exhaustive-deps","severi
ty":1,"message":"React Hook useEffect has a missing dependenc
y: 'fetchGames'. Either include it or remove the dependency a
rray.","line":35,"column":8,"nodeType":"ArrayExpression","end
Line":35,"endColumn":23,"suggestions":[{"desc":"Update the de
pendencies array to be: [sortBy, order, fetchGames]","fix":{"
range":[1108,1123],"text":"[sortBy, order, fetchGames]"}}]}],
"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"w
arningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,
"source":"\"use client\";\r\n\r\nimport { useState, useEffect
 } from \"react\";\r\nimport Link from \"next/link\";\r\nimpo
rt Image from \"next/image\";\r\nimport { Shield, ChevronLeft
, Trash2, RefreshCw, ExternalLink, ArrowUpDown, Eye, Heart, G
amepad2, AlertTriangle } from \"lucide-react\";\r\n\r\ntype G
ame = {\r\n    place_id: number;\r\n    name: string;\r\n    
visit_count: number;\r\n    favorite_count: number;\r\n    th
umbnail_url: string | null;\r\n    last_synced_at: string | n
ull;\r\n    creator_name: string;\r\n};\r\n\r\ntype SortField
 = \"visit_count\" | \"favorite_count\" | \"name\";\r\n\r\nty
pe DeleteConfirm = {\r\n    placeId: number;\r\n    name: str
ing;\r\n} | null;\r\n\r\nexport default function AdminGamesPa
ge() {\r\n    const [games, setGames] = useState<Game[]>([]);
\r\n    const [loading, setLoading] = useState(true);\r\n    
const [deletingId, setDeletingId] = useState<number | null>(n
ull);\r\n    const [sortBy, setSortBy] = useState<SortField>(
\"visit_count\");\r\n    const [order, setOrder] = useState<\
"asc\" | \"desc\">(\"asc\");\r\n    const [deleteConfirm, set
DeleteConfirm] = useState<DeleteConfirm>(null);\r\n\r\n    us
eEffect(() => {\r\n        fetchGames();\r\n    }, [sortBy, o
rder]);\r\n\r\n    const fetchGames = async () => {\r\n      
  setLoading(true);\r\n        try {\r\n            const res
 = await fetch(`/api/admin/games?sortBy=${sortBy}&order=${ord
er}`);\r\n            if (res.ok) {\r\n                const 
data = await res.json();\r\n                setGames(data.gam
es || []);\r\n            }\r\n        } catch (error) {\r\n 
           console.error(\"Failed to fetch games:\", error);\
r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n 
   // 蜑企勁遒ｺ隱阪Δ繝ｼ繝繝ｫ繧定｡ｨ遉ｺ\r\n    const handleDeleteClick = (
placeId: number, name: string) => {\r\n        setDeleteConfi
rm({ placeId, name });\r\n    };\r\n\r\n    // 蜑企勁螳溯｡圭r\n    
const confirmDelete = async () => {\r\n        if (!deleteCon
firm) return;\r\n\r\n        const { placeId } = deleteConfir
m;\r\n        setDeleteConfirm(null);\r\n        setDeletingI
d(placeId);\r\n\r\n        try {\r\n            const res = a
wait fetch(`/api/admin/games/${placeId}`, { method: \"DELETE\
" });\r\n            if (res.ok) {\r\n                setGame
s(games.filter(g => g.place_id !== placeId));\r\n            
} else {\r\n                const data = await res.json();\r\
n                alert(`蜑企勁縺ｫ螟ｱ謨励＠縺ｾ縺励◆: ${data.error}`);\r\n
            }\r\n        } catch (error) {\r\n            con
sole.error(\"Delete error:\", error);\r\n            alert(\"
蜑企勁荳ｭ縺ｫ繧ｨ繝ｩ繝ｼ縺檎匱逕溘＠縺ｾ縺励◆\");\r\n        }\r\n        setDelet
ingId(null);\r\n    };\r\n\r\n    const toggleSort = (field: 
SortField) => {\r\n        if (sortBy === field) {\r\n       
     setOrder(order === \"asc\" ? \"desc\" : \"asc\");\r\n   
     } else {\r\n            setSortBy(field);\r\n           
 setOrder(\"asc\");\r\n        }\r\n    };\r\n\r\n    const f
ormatNumber = (num: number) => {\r\n        if (num >= 100000
0000) {\r\n            return (num / 1000000000).toFixed(1) +
 \"B\";\r\n        }\r\n        if (num >= 1000000) {\r\n    
        return (num / 1000000).toFixed(1) + \"M\";\r\n       
 }\r\n        if (num >= 1000) {\r\n            return (num /
 1000).toFixed(1) + \"K\";\r\n        }\r\n        return num
.toString();\r\n    };\r\n\r\n    return (\r\n        <main c
lassName=\"min-h-screen bg-slate-900 text-white\">\r\n       
     {/* Header */}\r\n            <div className=\"bg-slate-
800/50 border-b border-slate-700\">\r\n                <div c
lassName=\"max-w-7xl mx-auto px-6 py-4\">\r\n                
    <div className=\"flex items-center justify-between\">\r\n
                        <div className=\"flex items-center ga
p-4\">\r\n                            <Link href=\"/admin\" c
lassName=\"text-slate-400 hover:text-white transition-colors\
">\r\n                                <ChevronLeft className=
\"w-5 h-5\" />\r\n                            </Link>\r\n    
                        <div className=\"flex items-center ga
p-2\">\r\n                                <Shield className=\
"w-6 h-6 text-yellow-500\" />\r\n                            
    <h1 className=\"text-xl font-bold\">繧ｲ繝ｼ繝邂｡逅・/h1>\r\n   
                         </div>\r\n                        </
div>\r\n                        <div className=\"text-sm text
-slate-400\">\r\n                            {games.length} 繧
ｲ繝ｼ繝\r\n                        </div>\r\n                  
  </div>\r\n                </div>\r\n            </div>\r\n\
r\n            <div className=\"max-w-7xl mx-auto px-6 py-8\"
>\r\n                {/* Sort Controls */}\r\n               
 <div className=\"flex items-center gap-4 mb-6\">\r\n        
            <span className=\"text-sm text-slate-400\">荳ｦ縺ｹ譖ｿ
縺・</span>\r\n                    <button\r\n                 
       onClick={() => toggleSort(\"visit_count\")}\r\n       
                 className={`flex items-center gap-1 px-3 py-
1.5 rounded-lg text-sm transition-colors ${sortBy === \"visit
_count\"\r\n                            ? \"bg-blue-500/20 te
xt-blue-400\"\r\n                            : \"bg-slate-800
 text-slate-400 hover:text-white\"\r\n                       
     }`}\r\n                    >\r\n                        
<Eye className=\"w-4 h-4\" />\r\n                        險ｪ蝠乗
焚\r\n                        {sortBy === \"visit_count\" && (
\r\n                            <ArrowUpDown className=\"w-3 
h-3 ml-1\" />\r\n                        )}\r\n              
      </button>\r\n                    <button\r\n           
             onClick={() => toggleSort(\"favorite_count\")}\r
\n                        className={`flex items-center gap-1
 px-3 py-1.5 rounded-lg text-sm transition-colors ${sortBy ==
= \"favorite_count\"\r\n                            ? \"bg-bl
ue-500/20 text-blue-400\"\r\n                            : \"
bg-slate-800 text-slate-400 hover:text-white\"\r\n           
                 }`}\r\n                    >\r\n            
            <Heart className=\"w-4 h-4\" />\r\n              
          縺頑ｰ励↓蜈･繧浬r\n                        {sortBy === \"f
avorite_count\" && (\r\n                            <ArrowUpD
own className=\"w-3 h-3 ml-1\" />\r\n                        
)}\r\n                    </button>\r\n                    <b
utton\r\n                        onClick={() => toggleSort(\"
name\")}\r\n                        className={`flex items-ce
nter gap-1 px-3 py-1.5 rounded-lg text-sm transition-colors $
{sortBy === \"name\"\r\n                            ? \"bg-bl
ue-500/20 text-blue-400\"\r\n                            : \"
bg-slate-800 text-slate-400 hover:text-white\"\r\n           
                 }`}\r\n                    >\r\n            
            蜷榊燕\r\n                        {sortBy === \"name
\" && (\r\n                            <ArrowUpDown className
=\"w-3 h-3 ml-1\" />\r\n                        )}\r\n       
             </button>\r\n                    <span className
=\"text-xs text-slate-500 ml-4\">\r\n                        
迴ｾ蝨ｨ: {order === \"asc\" ? \"譏・・ｼ亥ｰ代↑縺・・ｼ噂" : \"髯埼・ｼ亥､壹＞鬆・
ｼ噂"}\r\n                    </span>\r\n                </div>
\r\n\r\n                {/* Games List */}\r\n               
 {loading ? (\r\n                    <div className=\"flex it
ems-center justify-center py-20\">\r\n                       
 <RefreshCw className=\"w-8 h-8 animate-spin text-slate-500\"
 />\r\n                    </div>\r\n                ) : (\r\
n                    <div className=\"bg-slate-800/50 rounded
-xl border border-slate-700/50 divide-y divide-slate-700/50\"
>\r\n                        {games.map((game) => (\r\n      
                      <div key={game.place_id} className=\"p-
4 flex items-center gap-4 hover:bg-slate-800/30 transition-co
lors\">\r\n                                {/* Thumbnail */}\
r\n                                <div className=\"w-16 h-16
 bg-slate-700 rounded-lg overflow-hidden shrink-0\">\r\n     
                               {game.thumbnail_url ? (\r\n   
                                     <Image\r\n              
                              src={game.thumbnail_url}\r\n   
                                         alt={game.name}\r\n 
                                           width={64}\r\n    
                                        height={64}\r\n      
                                      className=\"w-full h-fu
ll object-cover\"\r\n                                        
/>\r\n                                    ) : (\r\n          
                              <div className=\"w-full h-full 
flex items-center justify-center\">\r\n                      
                      <Gamepad2 className=\"w-8 h-8 text-slat
e-500\" />\r\n                                        </div>\
r\n                                    )}\r\n                
                </div>\r\n\r\n                               
 {/* Info */}\r\n                                <div classNa
me=\"flex-1 min-w-0\">\r\n                                   
 <div className=\"flex items-center gap-2\">\r\n             
                           <h3 className=\"font-medium trunca
te\">{game.name}</h3>\r\n                                    
    <Link\r\n                                            href
={`/place/${game.place_id}`}\r\n                             
               target=\"_blank\"\r\n                         
                   className=\"text-blue-400 hover:text-blue-
300 shrink-0\"\r\n                                        >\r
\n                                            <ExternalLink c
lassName=\"w-4 h-4\" />\r\n                                  
      </Link>\r\n                                    </div>\r
\n                                    <div className=\"flex i
tems-center gap-4 mt-1 text-sm text-slate-400\">\r\n         
                               <span className=\"flex items-c
enter gap-1\">\r\n                                           
 <Eye className=\"w-3 h-3\" />\r\n                           
                 {formatNumber(game.visit_count || 0)}\r\n   
                                     </span>\r\n             
                           <span className=\"flex items-cente
r gap-1\">\r\n                                            <He
art className=\"w-3 h-3\" />\r\n                             
               {formatNumber(game.favorite_count || 0)}\r\n  
                                      </span>\r\n            
                            <span className=\"text-slate-500\
">\r\n                                            by {game.cr
eator_name || \"Unknown\"}\r\n                               
         </span>\r\n                                    </div
>\r\n                                </div>\r\n\r\n          
                      {/* Delete Button */}\r\n              
                  <button\r\n                                
    onClick={() => handleDeleteClick(game.place_id, game.name
)}\r\n                                    disabled={deletingI
d === game.place_id}\r\n                                    c
lassName=\"flex items-center gap-1 px-3 py-1.5 text-sm bg-red
-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transitio
n-colors disabled:opacity-50\"\r\n                           
     >\r\n                                    {deletingId ===
 game.place_id ? (\r\n                                       
 <RefreshCw className=\"w-4 h-4 animate-spin\" />\r\n        
                            ) : (\r\n                        
                <Trash2 className=\"w-4 h-4\" />\r\n         
                           )}\r\n                            
        蜑企勁\r\n                                </button>\r\n 
                           </div>\r\n                        
))}\r\n                    </div>\r\n                )}\r\n  
          </div>\r\n\r\n            {/* Delete Confirmation M
odal */}\r\n            {deleteConfirm && (\r\n              
  <div className=\"fixed inset-0 bg-black/60 flex items-cente
r justify-center z-50\">\r\n                    <div classNam
e=\"bg-slate-800 rounded-xl p-6 max-w-md w-full mx-4 border b
order-slate-700\">\r\n                        <div className=
\"flex items-center gap-3 mb-4\">\r\n                        
    <div className=\"p-2 bg-red-500/20 rounded-lg\">\r\n     
                           <AlertTriangle className=\"w-6 h-6
 text-red-400\" />\r\n                            </div>\r\n 
                           <h3 className=\"text-lg font-bold\
">蜑企勁遒ｺ隱・/h3>\r\n                        </div>\r\n          
              <p className=\"text-slate-300 mb-2\">\r\n      
                      莉･荳九・繧ｲ繝ｼ繝繧貞炎髯､縺励∪縺吶°・歃r\n            
            </p>\r\n                        <p className=\"fo
nt-medium text-white mb-4 truncate\">\r\n                    
        縲鶏deleteConfirm.name}縲構r\n                        </p
>\r\n                        <p className=\"text-sm text-slat
e-400 mb-6\">\r\n                            笞・・髢｢騾｣縺吶ｋ繝ｬ繝薙Η
繝ｼ縺ｨ繝槭う繝ｪ繧ｹ繝医い繧､繝・Β繧ょ炎髯､縺輔ｌ縺ｾ縺吶ゅ％縺ｮ謫堺ｽ懊・蜈・↓謌ｻ縺帙∪縺帙ｓ縲・r\n    
                    </p>\r\n                        <div clas
sName=\"flex gap-3 justify-end\">\r\n                        
    <button\r\n                                onClick={() =>
 setDeleteConfirm(null)}\r\n                                c
lassName=\"px-4 py-2 text-sm bg-slate-700 text-slate-300 roun
ded-lg hover:bg-slate-600 transition-colors\"\r\n            
                >\r\n                                繧ｭ繝｣繝ｳ繧ｻ
繝ｫ\r\n                            </button>\r\n              
              <button\r\n                                onCl
ick={confirmDelete}\r\n                                classN
ame=\"px-4 py-2 text-sm bg-red-500 text-white rounded-lg hove
r:bg-red-600 transition-colors flex items-center gap-2\"\r\n 
                           >\r\n                             
   <Trash2 className=\"w-4 h-4\" />\r\n                      
          蜑企勁縺吶ｋ\r\n                            </button>\r\n
                        </div>\r\n                    </div>\
r\n                </div>\r\n            )}\r\n        </main
>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"
C:\\Users\\chott\\OneDrive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\GitHub\\starre
po\\src\\app\\admin\\reports\\page.tsx","messages":[{"ruleId"
:"@typescript-eslint/no-unused-vars","severity":2,"message":"
'error' is defined but never used.","line":81,"column":18,"no
deType":null,"messageId":"unusedVar","endLine":81,"endColumn"
:23}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount
":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCou
nt":0,"source":"\"use client\";\r\n\r\nimport { useState, use
Effect } from \"react\";\r\nimport Link from \"next/link\";\r
\nimport { ChevronLeft, Flag, CheckCircle, XCircle, Clock, Tr
ash2, ExternalLink, User } from \"lucide-react\";\r\n\r\ntype
 Report = {\r\n    id: number;\r\n    review_id: number | nul
l;\r\n    reporter_id: string;\r\n    reason: string;\r\n    
detail: string | null;\r\n    status: string;\r\n    resolved
_at: string | null;\r\n    resolved_by: string | null;\r\n   
 created_at: string;\r\n    reporter?: { username: string } |
 null;\r\n    review?: {\r\n        id: number;\r\n        co
mment: string;\r\n        rating: number;\r\n        user_id:
 string;\r\n        place_id: number;\r\n        reviewer?: {
 username: string } | null;\r\n    } | null;\r\n};\r\n\r\ncon
st reasonLabels: Record<string, string> = {\r\n    harassment
: \"繝上Λ繧ｹ繝｡繝ｳ繝・",\r\n    spam: \"繧ｹ繝代Β\",\r\n    inappropriat
e: \"荳埼←蛻・↑繧ｳ繝ｳ繝・Φ繝Ы",\r\n    impersonation: \"縺ｪ繧翫☆縺ｾ縺予",\r\
n    other: \"縺昴・莉暴",\r\n};\r\n\r\nconst statusConfig: Record
<string, { label: string; color: string; icon: React.ReactNod
e }> = {\r\n    pending: { label: \"蟇ｾ蠢懷ｾ・■\", color: \"bg-ye
llow-500/20 text-yellow-400 border-yellow-500/30\", icon: <Cl
ock className=\"w-4 h-4\" /> },\r\n    resolved: { label: \"蟇
ｾ蠢懈ｸ医∩\", color: \"bg-green-500/20 text-green-400 border-gree
n-500/30\", icon: <CheckCircle className=\"w-4 h-4\" /> },\r\
n    dismissed: { label: \"蜊ｴ荳欺", color: \"bg-slate-500/20 te
xt-slate-400 border-slate-500/30\", icon: <XCircle className=
\"w-4 h-4\" /> },\r\n};\r\n\r\nexport default function AdminR
eportsPage() {\r\n    const [reports, setReports] = useState<
Report[]>([]);\r\n    const [loading, setLoading] = useState(
true);\r\n    const [filter, setFilter] = useState<\"all\" | 
\"pending\">(\"pending\");\r\n    const [actionLoading, setAc
tionLoading] = useState<number | null>(null);\r\n\r\n    useE
ffect(() => {\r\n        fetchReports();\r\n    }, []);\r\n\r
\n    const fetchReports = async () => {\r\n        setLoadin
g(true);\r\n        try {\r\n            const res = await fe
tch(\"/api/admin/reports\");\r\n            if (res.ok) {\r\n
                const data = await res.json();\r\n           
     setReports(data);\r\n            }\r\n        } catch (e
rror) {\r\n            console.error(\"Failed to fetch report
s:\", error);\r\n        }\r\n        setLoading(false);\r\n 
   };\r\n\r\n    const handleAction = async (reportId: number
, action: \"resolve\" | \"dismiss\" | \"delete_review\") => {
\r\n        setActionLoading(reportId);\r\n        try {\r\n 
           const res = await fetch(`/api/admin/reports/${repo
rtId}`, {\r\n                method: \"POST\",\r\n           
     headers: { \"Content-Type\": \"application/json\" },\r\n
                body: JSON.stringify({ action }),\r\n        
    });\r\n\r\n            if (res.ok) {\r\n                f
etchReports();\r\n            } else {\r\n                con
st data = await res.json();\r\n                alert(data.err
or || \"謫堺ｽ懊↓螟ｱ謨励＠縺ｾ縺励◆\");\r\n            }\r\n        } cat
ch (error) {\r\n            alert(\"繧ｨ繝ｩ繝ｼ縺檎匱逕溘＠縺ｾ縺励◆\");\r\n
        }\r\n        setActionLoading(null);\r\n    };\r\n\r\
n    const filteredReports = filter === \"pending\"\r\n      
  ? reports.filter(r => r.status === \"pending\")\r\n        
: reports;\r\n\r\n    return (\r\n        <main className=\"m
in-h-screen bg-slate-900 text-white\">\r\n            {/* Hea
der */}\r\n            <div className=\"bg-slate-800/50 borde
r-b border-slate-700\">\r\n                <div className=\"m
ax-w-7xl mx-auto px-6 py-4\">\r\n                    <div cla
ssName=\"flex items-center gap-4\">\r\n                      
  <Link href=\"/admin\" className=\"text-slate-400 hover:text
-white transition-colors\">\r\n                            <C
hevronLeft className=\"w-5 h-5\" />\r\n                      
  </Link>\r\n                        <div className=\"flex it
ems-center gap-2\">\r\n                            <Flag clas
sName=\"w-6 h-6 text-red-400\" />\r\n                        
    <h1 className=\"text-xl font-bold\">騾壼ｱ邂｡逅・/h1>\r\n     
                   </div>\r\n                    </div>\r\n  
              </div>\r\n            </div>\r\n\r\n           
 <div className=\"max-w-7xl mx-auto px-6 py-8\">\r\n         
       {/* Filter Tabs */}\r\n                <div className=
\"flex items-center gap-4 mb-6\">\r\n                    <div
 className=\"flex bg-slate-800 p-1 rounded-lg\">\r\n         
               <button\r\n                            onClick
={() => setFilter(\"pending\")}\r\n                          
  className={`px-4 py-2 rounded-md text-sm font-medium transi
tion-colors ${filter === \"pending\"\r\n                     
               ? \"bg-yellow-500/20 text-yellow-400\"\r\n    
                                : \"text-slate-400 hover:text
-white\"\r\n                                }`}\r\n          
              >\r\n                            譛ｪ蟇ｾ蠢・({report
s.filter(r => r.status === \"pending\").length})\r\n         
               </button>\r\n                        <button\r
\n                            onClick={() => setFilter(\"all\
")}\r\n                            className={`px-4 py-2 roun
ded-md text-sm font-medium transition-colors ${filter === \"a
ll\"\r\n                                    ? \"bg-slate-700 
text-white\"\r\n                                    : \"text-
slate-400 hover:text-white\"\r\n                             
   }`}\r\n                        >\r\n                      
      縺吶∋縺ｦ ({reports.length})\r\n                        </b
utton>\r\n                    </div>\r\n                </div
>\r\n\r\n                {loading ? (\r\n                    
<div className=\"text-center py-12 text-slate-400\">隱ｭ縺ｿ霎ｼ縺ｿ荳
ｭ...</div>\r\n                ) : filteredReports.length === 
0 ? (\r\n                    <div className=\"text-center py-
12 text-slate-400\">\r\n                        {filter === \
"pending\" ? \"譛ｪ蟇ｾ蠢懊・騾壼ｱ縺ｯ縺ゅｊ縺ｾ縺帙ｓ 脂\" : \"騾壼ｱ縺後≠繧翫∪縺帙ｓ\"
}\r\n                    </div>\r\n                ) : (\r\n 
                   <div className=\"space-y-4\">\r\n         
               {filteredReports.map((report) => {\r\n        
                    const status = statusConfig[report.status
] || statusConfig.pending;\r\n\r\n                           
 return (\r\n                                <div key={report
.id} className=\"bg-slate-800/50 rounded-xl border border-sla
te-700/50 overflow-hidden\">\r\n                             
       {/* Report Header */}\r\n                             
       <div className=\"p-4 border-b border-slate-700/50 flex
 items-center justify-between\">\r\n                         
               <div className=\"flex items-center gap-3\">\r\
n                                            <span className=
{`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full t
ext-xs font-medium border ${status.color}`}>\r\n             
                                   {status.icon}\r\n         
                                       {status.label}\r\n    
                                        </span>\r\n          
                                  <span className=\"px-2 py-1
 rounded-full text-xs font-medium bg-red-500/20 text-red-400\
">\r\n                                                {reason
Labels[report.reason] || report.reason}\r\n                  
                          </span>\r\n                        
                </div>\r\n                                   
     <span className=\"text-sm text-slate-500\">\r\n         
                                   {new Date(report.created_a
t).toLocaleString(\"ja-JP\")}\r\n                            
            </span>\r\n                                    </
div>\r\n\r\n                                    <div classNam
e=\"p-4\">\r\n                                        {/* Rep
orter Info */}\r\n                                        <di
v className=\"text-sm text-slate-400 mb-4 flex items-center g
ap-2\">\r\n                                            <User 
className=\"w-4 h-4\" />\r\n                                 
           騾壼ｱ閠・ <span className=\"text-white\">{report.repo
rter?.username || \"荳肴・\"}</span>\r\n                        
                </div>\r\n\r\n                               
         {/* Reported Review */}\r\n                         
               {report.review ? (\r\n                        
                    <div className=\"bg-slate-900/50 p-4 roun
ded-lg mb-4 border border-slate-700\">\r\n                   
                             <div className=\"flex items-star
t justify-between gap-4\">\r\n                               
                     <div className=\"flex-1\">\r\n          
                                              <div className=
\"flex items-center gap-2 mb-2\">\r\n                        
                                    <span className=\"text-sm
 font-medium text-slate-300\">\r\n                           
                                     {report.review.reviewer?
.username || \"蛹ｿ蜷構"}\r\n                                    
                        </span>\r\n                          
                                  <span className=\"text-yell
ow-400 text-sm\">\r\n                                        
                        {\"笘・".repeat(report.review.rating)}\
r\n                                                          
  </span>\r\n                                                
        </div>\r\n                                           
             <p className=\"text-slate-300 text-sm whitespace
-pre-wrap\">\r\n                                             
               {report.review.comment || \"(繧ｳ繝｡繝ｳ繝医↑縺・\"}\r\
n                                                        </p>
\r\n                                                    </div
>\r\n                                                    <Lin
k\r\n                                                        
href={`/place/${report.review.place_id}`}\r\n                
                                        target=\"_blank\"\r\n
                                                        class
Name=\"text-blue-400 hover:text-blue-300 text-sm flex items-c
enter gap-1 shrink-0\"\r\n                                   
                 >\r\n                                       
                 繧ｲ繝ｼ繝繧定ｦ九ｋ <ExternalLink className=\"w-3 h-
3\" />\r\n                                                   
 </Link>\r\n                                                <
/div>\r\n                                            </div>\r
\n                                        ) : (\r\n          
                                  <div className=\"bg-slate-9
00/50 p-4 rounded-lg mb-4 border border-slate-700 text-slate-
500 text-sm\">\r\n                                           
     蟇ｾ雎｡繝ｬ繝薙Η繝ｼ縺ｯ譌｢縺ｫ蜑企勁縺輔ｌ縺ｦ縺・∪縺兔r\n                       
                     </div>\r\n                              
          )}\r\n\r\n                                        {
/* Detail */}\r\n                                        {rep
ort.detail && (\r\n                                          
  <div className=\"text-sm text-slate-300 mb-4\">\r\n        
                                        <span className=\"tex
t-slate-500\">隧ｳ邏ｰ: </span>\r\n                              
                  {report.detail}\r\n                        
                    </div>\r\n                               
         )}\r\n\r\n                                        {/
* Actions */}\r\n                                        {rep
ort.status === \"pending\" && (\r\n                          
                  <div className=\"flex gap-2 pt-2 border-t b
order-slate-700/50\">\r\n                                    
            {report.review && (\r\n                          
                          <button\r\n                        
                                onClick={() => handleAction(r
eport.id, \"delete_review\")}\r\n                            
                            disabled={actionLoading === repor
t.id}\r\n                                                    
    className=\"flex items-center gap-2 px-4 py-2 bg-red-500/
20 text-red-400 rounded-lg hover:bg-red-500/30 transition-col
ors text-sm font-medium disabled:opacity-50\"\r\n            
                                        >\r\n                
                                        <Trash2 className=\"w
-4 h-4\" />\r\n                                              
          繝ｬ繝薙Η繝ｼ繧貞炎髯､縺励※蟇ｾ蠢懈ｸ医∩縺ｫ\r\n                       
                             </button>\r\n                   
                             )}\r\n                          
                      <button\r\n                            
                        onClick={() => handleAction(report.id
, \"resolve\")}\r\n                                          
          disabled={actionLoading === report.id}\r\n         
                                           className=\"flex i
tems-center gap-2 px-4 py-2 bg-green-500/20 text-green-400 ro
unded-lg hover:bg-green-500/30 transition-colors text-sm font
-medium disabled:opacity-50\"\r\n                            
                    >\r\n                                    
                <CheckCircle className=\"w-4 h-4\" />\r\n    
                                                蟇ｾ蠢懈ｸ医∩\r\n  
                                              </button>\r\n  
                                              <button\r\n    
                                                onClick={() =
> handleAction(report.id, \"dismiss\")}\r\n                  
                                  disabled={actionLoading ===
 report.id}\r\n                                              
      className=\"flex items-center gap-2 px-4 py-2 bg-slate-
600/50 text-slate-300 rounded-lg hover:bg-slate-600 transitio
n-colors text-sm font-medium disabled:opacity-50\"\r\n       
                                         >\r\n               
                                     <XCircle className=\"w-4
 h-4\" />\r\n                                                
    蜊ｴ荳具ｼ亥撫鬘後↑縺暦ｼ噂r\n                                        
        </button>\r\n                                        
    </div>\r\n                                        )}\r\n 
                                   </div>\r\n                
                </div>\r\n                            );\r\n 
                       })}\r\n                    </div>\r\n 
               )}\r\n            </div>\r\n        </main>\r\
n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\
Users\\chott\\OneDrive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\GitHub\\starrepo\\
src\\app\\admin\\reviews\\page.tsx","messages":[{"ruleId":"@n
ext/next/no-img-element","severity":1,"message":"Using `<img>
` could result in slower LCP and higher bandwidth. Consider u
sing `<Image />` from `next/image` or a custom image loader t
o automatically optimize images. This may incur additional us
age or cost from your provider. See: https://nextjs.org/docs/
messages/no-img-element","line":73,"column":49,"nodeType":"JS
XOpeningElement","endLine":73,"endColumn":141}],"suppressedMe
ssages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":
1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"imp
ort { redirect } from \"next/navigation\";\r\nimport { create
Client } from \"@/lib/supabase/server\";\r\nimport { isAdmin 
} from \"@/lib/admin\";\r\nimport Link from \"next/link\";\r\
nimport { ChevronLeft, MessageSquare, Trash2, Star, ExternalL
ink } from \"lucide-react\";\r\n\r\nexport const dynamic = \"
force-dynamic\";\r\n\r\nasync function getReviews() {\r\n    
const supabase = await createClient();\r\n\r\n    const { dat
a: reviews } = await supabase\r\n        .from(\"reviews\")\r
\n        .select(\"*\")\r\n        .order(\"created_at\", { 
ascending: false });\r\n\r\n    if (!reviews) return [];\r\n\
r\n    // Fetch profiles\r\n    const userIds = [...new Set(r
eviews.map(r => r.user_id))];\r\n    const { data: profiles }
 = await supabase\r\n        .from(\"profiles\")\r\n        .
select(\"user_id, username, avatar_url\")\r\n        .in(\"us
er_id\", userIds);\r\n\r\n    // Fetch places\r\n    const pl
aceIds = [...new Set(reviews.map(r => r.place_id))];\r\n    c
onst { data: places } = await supabase\r\n        .from(\"pla
ces\")\r\n        .select(\"place_id, name\")\r\n        .in(
\"place_id\", placeIds);\r\n\r\n    return reviews.map(r => (
{\r\n        ...r,\r\n        profile: profiles?.find(p => p.
user_id === r.user_id),\r\n        place: places?.find(p => p
.place_id === r.place_id),\r\n    }));\r\n}\r\n\r\nexport def
ault async function AdminReviewsPage() {\r\n    const admin =
 await isAdmin();\r\n    if (!admin) redirect(\"/\");\r\n\r\n
    const reviews = await getReviews();\r\n\r\n    return (\r
\n        <main className=\"min-h-screen bg-slate-900 text-wh
ite\">\r\n            {/* Header */}\r\n            <div clas
sName=\"bg-slate-800/50 border-b border-slate-700\">\r\n     
           <div className=\"max-w-7xl mx-auto px-6 py-4\">\r\
n                    <div className=\"flex items-center gap-4
\">\r\n                        <Link href=\"/admin\" classNam
e=\"text-slate-400 hover:text-white transition-colors\">\r\n 
                           <ChevronLeft className=\"w-5 h-5\"
 />\r\n                        </Link>\r\n                   
     <div className=\"flex items-center gap-2\">\r\n         
                   <MessageSquare className=\"w-6 h-6 text-gr
een-400\" />\r\n                            <h1 className=\"t
ext-xl font-bold\">繝ｬ繝薙Η繝ｼ邂｡逅・/h1>\r\n                       
 </div>\r\n                    </div>\r\n                </di
v>\r\n            </div>\r\n\r\n            <div className=\"
max-w-7xl mx-auto px-6 py-8\">\r\n                <div classN
ame=\"space-y-4\">\r\n                    {reviews.map((revie
w) => (\r\n                        <div key={review.id} class
Name=\"bg-slate-800/50 rounded-xl border border-slate-700/50 
p-6\">\r\n                            <div className=\"flex i
tems-start justify-between\">\r\n                            
    <div className=\"flex-1\">\r\n                           
         {/* Header */}\r\n                                  
  <div className=\"flex items-center gap-4 mb-3\">\r\n       
                                 <div className=\"flex items-
center gap-2\">\r\n                                          
  {review.profile?.avatar_url ? (\r\n                        
                        <img src={review.profile.avatar_url} 
alt=\"\" className=\"w-8 h-8 rounded-full object-cover\" />\r
\n                                            ) : (\r\n      
                                          <div className=\"w-
8 h-8 rounded-full bg-slate-600\" />\r\n                     
                       )}\r\n                                
            <span className=\"font-medium\">{review.profile?.
username || \"荳肴・\"}</span>\r\n                              
          </div>\r\n                                        <
span className=\"text-slate-500\">竊・/span>\r\n               
                         <Link\r\n                           
                 href={`/place/${review.place_id}`}\r\n      
                                      className=\"text-blue-4
00 hover:text-blue-300 flex items-center gap-1\"\r\n         
                               >\r\n                         
                   {review.place?.name || `Place ${review.pla
ce_id}`}\r\n                                            <Exte
rnalLink className=\"w-3 h-3\" />\r\n                        
                </Link>\r\n                                  
  </div>\r\n\r\n                                    {/* Ratin
g */}\r\n                                    <div className=\
"flex items-center gap-1 mb-2\">\r\n                         
               {[1, 2, 3, 4, 5].map((star) => (\r\n          
                                  <Star\r\n                  
                              key={star}\r\n                 
                               className={`w-4 h-4 ${star <= 
review.rating ? \"text-yellow-400 fill-yellow-400\" : \"text-
slate-600\"}`}\r\n                                           
 />\r\n                                        ))}\r\n       
                                 <span className=\"text-sm te
xt-slate-400 ml-2\">\r\n                                     
       {new Date(review.created_at).toLocaleDateString(\"ja-J
P\")}\r\n                                        </span>\r\n 
                                   </div>\r\n\r\n            
                        {/* Comment */}\r\n                  
                  <p className=\"text-slate-300\">{review.com
ment || \"(繧ｳ繝｡繝ｳ繝医↑縺・\"}</p>\r\n                            
    </div>\r\n\r\n                                {/* Actions
 */}\r\n                                <form action={`/api/a
dmin/reviews/${review.id}`} method=\"POST\">\r\n             
                       <input type=\"hidden\" name=\"_method\
" value=\"DELETE\" />\r\n                                    
<button\r\n                                        type=\"sub
mit\"\r\n                                        className=\"
p-2 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30
 transition-colors\"\r\n                                     
   title=\"繝ｬ繝薙Η繝ｼ繧貞炎髯､\"\r\n                                
    >\r\n                                        <Trash2 clas
sName=\"w-5 h-5\" />\r\n                                    <
/button>\r\n                                </form>\r\n      
                      </div>\r\n                        </div
>\r\n                    ))}\r\n\r\n                    {revi
ews.length === 0 && (\r\n                        <div classNa
me=\"text-center py-12 text-slate-400\">\r\n                 
           繝ｬ繝薙Η繝ｼ縺後≠繧翫∪縺帙ｓ\r\n                        </div>
\r\n                    )}\r\n                </div>\r\n     
       </div>\r\n        </main>\r\n    );\r\n}\r\n","usedDep
recatedRules":[]},{"filePath":"C:\\Users\\chott\\OneDrive - 譬
ｪ蠑丈ｼ夂､ｾJarminal\\GitHub\\starrepo\\src\\app\\api\\admin\\repo
rts\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-e
xplicit-any","severity":2,"message":"Unexpected any. Specify 
a different type.","line":36,"column":18,"nodeType":"TSAnyKey
word","messageId":"unexpectedAny","endLine":36,"endColumn":21
,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":
[1138,1141],"text":"unknown"},"desc":"Use `unknown` instead, 
this will force you to explicitly, and safely assert the type
 is correct."},{"messageId":"suggestNever","fix":{"range":[11
38,1141],"text":"never"},"desc":"Use `never` instead, this is
 useful when instantiating generic type parameters that you d
on't need to know the type of."}]},{"ruleId":"@typescript-esl
int/no-explicit-any","severity":2,"message":"Unexpected any. 
Specify a different type.","line":47,"column":20,"nodeType":"
TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endCo
lumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{
"range":[1548,1551],"text":"unknown"},"desc":"Use `unknown` i
nstead, this will force you to explicitly, and safely assert 
the type is correct."},{"messageId":"suggestNever","fix":{"ra
nge":[1548,1551],"text":"never"},"desc":"Use `never` instead,
 this is useful when instantiating generic type parameters th
at you don't need to know the type of."}]}],"suppressedMessag
es":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"f
ixableErrorCount":0,"fixableWarningCount":0,"source":"import 
{ NextResponse } from \"next/server\";\r\nimport { createClie
nt } from \"@/lib/supabase/server\";\r\nimport { isAdmin } fr
om \"@/lib/admin\";\r\n\r\nexport async function GET() {\r\n 
   const admin = await isAdmin();\r\n    if (!admin) {\r\n   
     return NextResponse.json({ error: \"Unauthorized\" }, { 
status: 401 });\r\n    }\r\n\r\n    const supabase = await cr
eateClient();\r\n\r\n    // Fetch all reports\r\n    const { 
data: reports, error } = await supabase\r\n        .from(\"re
view_reports\")\r\n        .select(\"*\")\r\n        .order(\
"created_at\", { ascending: false });\r\n\r\n    if (error) {
\r\n        return NextResponse.json({ error: error.message }
, { status: 500 });\r\n    }\r\n\r\n    if (!reports || repor
ts.length === 0) {\r\n        return NextResponse.json([]);\r
\n    }\r\n\r\n    // Fetch reporter profiles\r\n    const re
porterIds = [...new Set(reports.map(r => r.reporter_id))];\r\
n    const { data: reporters } = await supabase\r\n        .f
rom(\"profiles\")\r\n        .select(\"user_id, username\")\r
\n        .in(\"user_id\", reporterIds);\r\n\r\n    // Fetch 
reviews\r\n    const reviewIds = [...new Set(reports.filter(r
 => r.review_id).map(r => r.review_id))];\r\n    let reviews:
 any[] = [];\r\n    if (reviewIds.length > 0) {\r\n        co
nst { data: reviewsData } = await supabase\r\n            .fr
om(\"reviews\")\r\n            .select(\"id, comment, rating,
 user_id, place_id\")\r\n            .in(\"id\", reviewIds);\
r\n        reviews = reviewsData || [];\r\n    }\r\n\r\n    /
/ Fetch reviewer profiles\r\n    const reviewerIds = [...new 
Set(reviews.map(r => r.user_id).filter(Boolean))];\r\n    let
 reviewers: any[] = [];\r\n    if (reviewerIds.length > 0) {\
r\n        const { data: reviewersData } = await supabase\r\n
            .from(\"profiles\")\r\n            .select(\"user
_id, username\")\r\n            .in(\"user_id\", reviewerIds)
;\r\n        reviewers = reviewersData || [];\r\n    }\r\n\r\
n    // Merge data\r\n    const enrichedReports = reports.map
(report => ({\r\n        ...report,\r\n        reporter: repo
rters?.find(p => p.user_id === report.reporter_id) || null,\r
\n        review: report.review_id ? {\r\n            ...revi
ews.find(r => r.id === report.review_id),\r\n            revi
ewer: reviewers.find(p => p.user_id === reviews.find(r => r.i
d === report.review_id)?.user_id) || null\r\n        } : null
\r\n    }));\r\n\r\n    return NextResponse.json(enrichedRepo
rts);\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Us
ers\\chott\\OneDrive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\GitHub\\starrepo\\sr
c\\app\\api\\admin\\sync-roblox\\route.ts","messages":[{"rule
Id":"@typescript-eslint/no-unused-vars","severity":2,"message
":"'req' is defined but never used.","line":24,"column":28,"n
odeType":null,"messageId":"unusedVar","endLine":24,"endColumn
":31}],"suppressedMessages":[],"errorCount":1,"fatalErrorCoun
t":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCo
unt":0,"source":"import { NextRequest, NextResponse } from \"
next/server\";\r\nimport { supabase } from \"@/lib/supabase\"
;\r\nimport { isAdmin } from \"@/lib/admin\";\r\nimport { get
RobloxGameData, RobloxGameData } from \"@/lib/roblox\";\r\n\r
\n// Retry wrapper for Roblox API with exponential backoff\r\
nasync function fetchWithRetry(placeId: number, maxRetries: n
umber = 2): Promise<RobloxGameData | null> {\r\n    for (let 
attempt = 0; attempt <= maxRetries; attempt++) {\r\n        c
onst data = await getRobloxGameData(placeId);\r\n        if (
data) {\r\n            return data;\r\n        }\r\n\r\n     
   // If first attempts fail, wait before retrying\r\n       
 if (attempt < maxRetries) {\r\n            const delay = 100
0 * (attempt + 1); // 1s, 2s\r\n            console.log(`Retr
y ${attempt + 1} for placeId ${placeId} after ${delay}ms`);\r
\n            await new Promise(resolve => setTimeout(resolve
, delay));\r\n        }\r\n    }\r\n    return null;\r\n}\r\n
\r\nexport async function POST(req: NextRequest) {\r\n    con
st admin = await isAdmin();\r\n    if (!admin) {\r\n        r
eturn NextResponse.json({ error: \"Unauthorized\" }, { status
: 401 });\r\n    }\r\n\r\n    // Get all places\r\n    const 
{ data: places, error: fetchError } = await supabase\r\n     
   .from(\"places\")\r\n        .select(\"place_id\")\r\n    
    .order(\"last_synced_at\", { ascending: true, nullsFirst:
 true }); // Oldest synced first\r\n\r\n    if (fetchError) {
\r\n        console.error(\"Fetch places error:\", fetchError
);\r\n        return NextResponse.json({ error: \"Failed to f
etch places\", details: fetchError.message }, { status: 500 }
);\r\n    }\r\n\r\n    if (!places || places.length === 0) {\
r\n        return NextResponse.json({ error: \"No places foun
d\" }, { status: 404 });\r\n    }\r\n\r\n    let updated = 0;
\r\n    let failed = 0;\r\n    const errors: { placeId: numbe
r; error: string }[] = [];\r\n\r\n    for (let i = 0; i < pla
ces.length; i++) {\r\n        const place = places[i];\r\n   
     try {\r\n            // Use retry wrapper\r\n           
 const gameData = await fetchWithRetry(place.place_id);\r\n\r
\n            if (!gameData) {\r\n                failed++;\r
\n                errors.push({ placeId: place.place_id, erro
r: \"Roblox API returned null (after retries)\" });\r\n      
          continue;\r\n            }\r\n\r\n            const
 { error: updateError } = await supabase\r\n                .
from(\"places\")\r\n                .update({\r\n            
        name: gameData.name,\r\n                    descripti
on: gameData.description,\r\n                    creator_name
: gameData.creatorName,\r\n                    visit_count: g
ameData.visits,\r\n                    playing: gameData.play
ing,\r\n                    favorite_count: gameData.favorite
s,\r\n                    like_count: gameData.upVotes,\r\n  
                  dislike_count: gameData.downVotes,\r\n     
               icon_url: gameData.iconUrl,\r\n               
     thumbnail_url: gameData.thumbnailUrl,\r\n               
     price: gameData.price,\r\n                    genre: gam
eData.genre,\r\n                    last_updated_at: gameData
.updated,\r\n                    last_synced_at: new Date().t
oISOString(),\r\n                })\r\n                .eq(\"
place_id\", place.place_id);\r\n\r\n            if (updateErr
or) {\r\n                failed++;\r\n                errors.
push({ placeId: place.place_id, error: updateError.message })
;\r\n            } else {\r\n                updated++;\r\n  
          }\r\n\r\n            // Rate limit: wait 500ms betw
een requests to avoid Roblox API throttling\r\n            //
 Increase to 1s every 10 requests to be extra safe\r\n       
     const delay = (i + 1) % 10 === 0 ? 1000 : 500;\r\n      
      await new Promise(resolve => setTimeout(resolve, delay)
);\r\n        } catch (error) {\r\n            failed++;\r\n 
           errors.push({ placeId: place.place_id, error: Stri
ng(error) });\r\n        }\r\n    }\r\n\r\n    return NextRes
ponse.json({\r\n        success: true,\r\n        total: plac
es.length,\r\n        updated,\r\n        failed,\r\n        
errors: errors.slice(0, 20), // Return up to 20 errors\r\n   
 });\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Use
rs\\chott\\OneDrive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\GitHub\\starrepo\\src
\\app\\api\\profile\\avatar\\route.ts","messages":[{"ruleId":
"@typescript-eslint/no-unused-vars","severity":2,"message":"'
data' is assigned a value but never used.","line":37,"column"
:17,"nodeType":null,"messageId":"unusedVar","endLine":37,"end
Column":21}],"suppressedMessages":[],"errorCount":1,"fatalErr
orCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWar
ningCount":0,"source":"import { NextRequest, NextResponse } f
rom \"next/server\";\r\nimport { createClient } from \"@/lib/
supabase/server\";\r\n\r\nexport async function POST(req: Nex
tRequest) {\r\n    const supabase = await createClient();\r\n
    const { data: { user } } = await supabase.auth.getUser();
\r\n\r\n    if (!user) {\r\n        return NextResponse.json(
{ error: \"隱崎ｨｼ縺悟ｿ・ｦ√〒縺兔" }, { status: 401 });\r\n    }\r\n\r
\n    try {\r\n        const formData = await req.formData();
\r\n        const file = formData.get(\"file\") as File;\r\n\
r\n        if (!file) {\r\n            return NextResponse.js
on({ error: \"繝輔ぃ繧､繝ｫ縺後≠繧翫∪縺帙ｓ\" }, { status: 400 });\r\n    
    }\r\n\r\n        // 繝輔ぃ繧､繝ｫ繧ｵ繧､繧ｺ繝√ぉ繝・け・・MB・噂r\n        i
f (file.size > 2 * 1024 * 1024) {\r\n            return NextR
esponse.json({ error: \"繝輔ぃ繧､繝ｫ繧ｵ繧､繧ｺ縺ｯ2MB莉･荳九↓縺励※縺上□縺輔＞\" },
 { status: 400 });\r\n        }\r\n\r\n        // 繝輔ぃ繧､繝ｫ蠖｢蠑上
メ繧ｧ繝・け\r\n        const allowedTypes = [\"image/jpeg\", \"ima
ge/png\", \"image/webp\"];\r\n        if (!allowedTypes.inclu
des(file.type)) {\r\n            return NextResponse.json({ e
rror: \"JPEG縲￣NG縲仝ebP蠖｢蠑上・逕ｻ蜒上・縺ｿ繧｢繝・・繝ｭ繝ｼ繝牙庄閭ｽ縺ｧ縺兔" }, { sta
tus: 400 });\r\n        }\r\n\r\n        // 繝輔ぃ繧､繝ｫ蜷阪ｒ逕滓・・・se
r_id + 繧ｿ繧､繝繧ｹ繧ｿ繝ｳ繝・+ 諡｡蠑ｵ蟄撰ｼ噂r\n        const fileExt = fil
e.name.split(\".\").pop();\r\n        const fileName = `${use
r.id}-${Date.now()}.${fileExt}`;\r\n        const filePath = 
`${user.id}/${fileName}`;\r\n\r\n        // Supabase Storage 
縺ｫ繧｢繝・・繝ｭ繝ｼ繝噂r\n        const { data, error } = await supabas
e.storage\r\n            .from(\"avatars\")\r\n            .u
pload(filePath, file, {\r\n                cacheControl: \"36
00\",\r\n                upsert: false,\r\n            });\r\
n\r\n        if (error) {\r\n            console.error(\"Uplo
ad error:\", error);\r\n            return NextResponse.json(
{ error: \"逕ｻ蜒上・繧｢繝・・繝ｭ繝ｼ繝峨↓螟ｱ謨励＠縺ｾ縺励◆\" }, { status: 500 });
\r\n        }\r\n\r\n        // 蜈ｬ髢偽RL繧貞叙蠕予r\n        const {
 data: urlData } = supabase.storage\r\n            .from(\"av
atars\")\r\n            .getPublicUrl(filePath);\r\n\r\n     
   return NextResponse.json({\r\n            message: \"逕ｻ蜒上ｒ
繧｢繝・・繝ｭ繝ｼ繝峨＠縺ｾ縺励◆\",\r\n            url: urlData.publicUrl,\r
\n        });\r\n    } catch (error) {\r\n        console.err
or(\"Upload error:\", error);\r\n        return NextResponse.
json({ error: \"逕ｻ蜒上・繧｢繝・・繝ｭ繝ｼ繝峨↓螟ｱ謨励＠縺ｾ縺励◆\" }, { status: 50
0 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath
":"C:\\Users\\chott\\OneDrive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\GitHub\\sta
rrepo\\src\\app\\auth\\actions.ts","messages":[{"ruleId":"@ty
pescript-eslint/no-explicit-any","severity":2,"message":"Unex
pected any. Specify a different type.","line":7,"column":40,"
nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine
":7,"endColumn":43,"suggestions":[{"messageId":"suggestUnknow
n","fix":{"range":[204,207],"text":"unknown"},"desc":"Use `un
known` instead, this will force you to explicitly, and safely
 assert the type is correct."},{"messageId":"suggestNever","f
ix":{"range":[204,207],"text":"never"},"desc":"Use `never` in
stead, this is useful when instantiating generic type paramet
ers that you don't need to know the type of."}]},{"ruleId":"@
typescript-eslint/no-explicit-any","severity":2,"message":"Un
expected any. Specify a different type.","line":30,"column":4
1,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endL
ine":30,"endColumn":44,"suggestions":[{"messageId":"suggestUn
known","fix":{"range":[840,843],"text":"unknown"},"desc":"Use
 `unknown` instead, this will force you to explicitly, and sa
fely assert the type is correct."},{"messageId":"suggestNever
","fix":{"range":[840,843],"text":"never"},"desc":"Use `never
` instead, this is useful when instantiating generic type par
ameters that you don't need to know the type of."}]}],"suppre
ssedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningC
ount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source
":"\"use server\";\r\n\r\nimport { revalidatePath } from \"ne
xt/cache\";\r\nimport { redirect } from \"next/navigation\";\
r\nimport { createClient } from \"@/lib/supabase/server\";\r\
n\r\nexport async function login(prevState: any, formData: Fo
rmData) {\r\n    const supabase = await createClient();\r\n\r
\n    const email = formData.get(\"email\") as string;\r\n   
 const password = formData.get(\"password\") as string;\r\n\r
\n    const { error } = await supabase.auth.signInWithPasswor
d({\r\n        email,\r\n        password,\r\n    });\r\n\r\n
    if (error) {\r\n        let errorMessage = error.message;
\r\n        if (errorMessage === \"Invalid login credentials\
") {\r\n            errorMessage = \"繝｡繝ｼ繝ｫ繧｢繝峨Ξ繧ｹ縺ｾ縺溘・繝代せ繝ｯ繝
ｼ繝峨′髢馴＆縺｣縺ｦ縺・∪縺吶・";\r\n        }\r\n        return { error: 
errorMessage };\r\n    }\r\n\r\n    revalidatePath(\"/\", \"l
ayout\");\r\n    redirect(\"/\");\r\n}\r\n\r\nexport async fu
nction signup(prevState: any, formData: FormData) {\r\n    co
nst supabase = await createClient();\r\n\r\n    const email =
 formData.get(\"email\") as string;\r\n    const password = f
ormData.get(\"password\") as string;\r\n\r\n    const { error
 } = await supabase.auth.signUp({\r\n        email,\r\n      
  password,\r\n        options: {\r\n            emailRedirec
tTo: `${process.env.NEXT_PUBLIC_SITE_URL}/auth/callback`,\r\n
        },\r\n    });\r\n\r\n    if (error) {\r\n        retu
rn { error: error.message };\r\n    }\r\n\r\n    return { mes
sage: \"Check your email to confirm your account.\" };\r\n}\r
\n\r\nexport async function signout() {\r\n    const supabase
 = await createClient();\r\n    await supabase.auth.signOut()
;\r\n    revalidatePath(\"/\", \"layout\");\r\n    redirect(\
"/login\");\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"
C:\\Users\\chott\\OneDrive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\GitHub\\starre
po\\src\\app\\genre\\[id]\\page.tsx","messages":[{"ruleId":"@
next/next/no-img-element","severity":1,"message":"Using `<img
>` could result in slower LCP and higher bandwidth. Consider 
using `<Image />` from `next/image` or a custom image loader 
to automatically optimize images. This may incur additional u
sage or cost from your provider. See: https://nextjs.org/docs
/messages/no-img-element","line":114,"column":41,"nodeType":"
JSXOpeningElement","endLine":118,"endColumn":43}],"suppressed
Messages":[],"errorCount":0,"fatalErrorCount":0,"warningCount
":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\
"use client\";\r\n\r\nimport { useEffect, useState } from \"r
eact\";\r\nimport { useParams, useRouter } from \"next/naviga
tion\";\r\nimport { createClient } from \"@/lib/supabase/clie
nt\";\r\nimport { getGenreName } from \"@/lib/roblox\";\r\nim
port Link from \"next/link\";\r\n\r\nconst supabase = createC
lient();\r\n\r\ntype Place = {\r\n    place_id: number;\r\n  
  name: string;\r\n    creator_name: string;\r\n    thumbnail
_url: string | null;\r\n    visit_count: number;\r\n    favor
ite_count: number;\r\n    genre: number | string | null;\r\n 
   average_rating?: number;\r\n    review_count?: number;\r\n
};\r\n\r\nexport default function GenreDetailPage() {\r\n    
const params = useParams();\r\n    const genreId = decodeURIC
omponent(params.id as string);\r\n    const [places, setPlace
s] = useState<Place[]>([]);\r\n    const [loading, setLoading
] = useState(true);\r\n    const router = useRouter();\r\n\r\
n    useEffect(() => {\r\n        async function fetchPlaces(
) {\r\n            setLoading(true);\r\n\r\n            // Fe
tch places by genre\r\n            const { data: placeData } 
= await supabase\r\n                .from(\"places\")\r\n    
            .select(\"*\")\r\n                .eq(\"genre\", 
genreId)\r\n                .gte(\"favorite_count\", 50) // O
nly show games with 50+ favorites\r\n                .order(\
"visit_count\", { ascending: false })\r\n                .lim
it(100);\r\n\r\n            if (!placeData) {\r\n            
    setLoading(false);\r\n                return;\r\n        
    }\r\n\r\n            // Fetch reviews\r\n            cons
t placeIds = placeData.map((p) => p.place_id);\r\n           
 const { data: allReviews } = await supabase\r\n             
   .from(\"reviews\")\r\n                .select(\"place_id, 
rating\")\r\n                .in(\"place_id\", placeIds);\r\n
\r\n            const reviewsMap = new Map<number, { count: n
umber; sum: number }>();\r\n            if (allReviews) {\r\n
                for (const r of allReviews) {\r\n            
        const current = reviewsMap.get(r.place_id) || { count
: 0, sum: 0 };\r\n                    reviewsMap.set(r.place_
id, {\r\n                        count: current.count + 1,\r\
n                        sum: current.sum + r.rating,\r\n    
                });\r\n                }\r\n            }\r\n
\r\n            const withRatings = placeData.map((p) => {\r\
n                const stats = reviewsMap.get(p.place_id);\r\
n                const count = stats?.count || 0;\r\n        
        const avg = count > 0 ? stats!.sum / count : 0;\r\n\r
\n                return {\r\n                    ...p,\r\n  
                  average_rating: avg,\r\n                   
 review_count: count,\r\n                };\r\n            })
;\r\n\r\n            setPlaces(withRatings);\r\n            s
etLoading(false);\r\n        }\r\n\r\n        fetchPlaces();\
r\n    }, [genreId]);\r\n\r\n    const genreName = getGenreNa
me(genreId);\r\n\r\n    return (\r\n        <main className=\
"min-h-screen bg-slate-900 text-white pb-20\">\r\n           
 {/* Header */}\r\n            <div className=\"bg-slate-800 
border-b border-slate-700\">\r\n                <div classNam
e=\"max-w-7xl mx-auto px-6 py-6\">\r\n                    <Li
nk href=\"/genre\" className=\"text-sm text-slate-400 hover:t
ext-white mb-4 inline-block\">\r\n                        &la
rr; 繧ｸ繝｣繝ｳ繝ｫ荳隕ｧ縺ｫ謌ｻ繧欺r\n                    </Link>\r\n     
               <h1 className=\"text-4xl font-bold mb-2\">{gen
reName}</h1>\r\n                    <p className=\"text-slate
-400\">{places.length}莉ｶ縺ｮ繧ｲ繝ｼ繝</p>\r\n                </div
>\r\n            </div>\r\n\r\n            {/* Games Grid */}
\r\n            <div className=\"max-w-7xl mx-auto px-6 py-8\
">\r\n                {loading ? (\r\n                    <di
v className=\"text-center py-20 text-slate-500\">隱ｭ縺ｿ霎ｼ縺ｿ荳ｭ..
.</div>\r\n                ) : places.length > 0 ? (\r\n     
               <div className=\"grid grid-cols-1 sm:grid-cols
-2 lg:grid-cols-3 gap-6\">\r\n                        {places
.map((place) => (\r\n                            <div\r\n    
                            key={place.place_id}\r\n         
                       onClick={() => router.push(`/place/${p
lace.place_id}`)}\r\n                                classNam
e=\"group cursor-pointer bg-slate-800 rounded-xl overflow-hid
den border border-slate-700 hover:border-yellow-500/50 hover:
shadow-lg transition-all\"\r\n                            >\r
\n                                <div className=\"relative h
-48 bg-slate-700\">\r\n                                    {p
lace.thumbnail_url ? (\r\n                                   
     <img\r\n                                            src=
{place.thumbnail_url}\r\n                                    
        alt={place.name}\r\n                                 
           className=\"w-full h-full object-cover group-hover
:scale-110 transition-transform duration-300\"\r\n           
                             />\r\n                          
          ) : (\r\n                                        <d
iv className=\"w-full h-full flex items-center justify-center
 text-slate-500\">逕ｻ蜒上↑縺・/div>\r\n                           
         )}\r\n                                    <div class
Name=\"absolute inset-0 bg-gradient-to-t from-slate-900/90 to
-transparent\"></div>\r\n                                    
<div className=\"absolute bottom-3 left-3 right-3\">\r\n     
                                   <h3 className=\"text-lg fo
nt-bold text-white truncate group-hover:text-yellow-400 trans
ition-colors\">\r\n                                          
  {place.name}\r\n                                        </h
3>\r\n                                        <p className=\"
text-xs text-slate-400 truncate\">by {place.creator_name}</p>
\r\n                                    </div>\r\n           
                     </div>\r\n                              
  <div className=\"p-4 flex items-center justify-between text
-sm\">\r\n                                    <div className=
\"flex items-center gap-1\">\r\n                             
           <span className=\"text-yellow-500\">笘・/span>\r\n  
                                      <span>{place.average_ra
ting ? place.average_rating.toFixed(1) : \"-\"}</span>\r\n   
                                 </div>\r\n                  
                  <div className=\"flex gap-3 text-xs text-sl
ate-400\">\r\n                                        <span>
早 {(place.visit_count / 1000000).toFixed(1)}M+</span>\r\n    
                                </div>\r\n                   
             </div>\r\n                            </div>\r\n
                        ))}\r\n                    </div>\r\n
                ) : (\r\n                    <div className=\
"text-center py-20\">\r\n                        <p className
=\"text-slate-400 text-lg\">縺薙・繧ｸ繝｣繝ｳ繝ｫ縺ｮ繧ｲ繝ｼ繝縺ｯ縺ｾ縺逋ｻ骭ｲ縺輔ｌ縺
ｦ縺・∪縺帙ｓ</p>\r\n                        <Link\r\n             
               href=\"/\"\r\n                            clas
sName=\"inline-block mt-6 bg-yellow-500 hover:bg-yellow-400 t
ext-black font-bold px-6 py-3 rounded-lg transition-colors\"\
r\n                        >\r\n                            繧
ｲ繝ｼ繝繧呈爾縺兔r\n                        </Link>\r\n             
       </div>\r\n                )}\r\n            </div>\r\n
        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]}
,{"filePath":"C:\\Users\\chott\\OneDrive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\
GitHub\\starrepo\\src\\app\\genre\\page.tsx","messages":[{"ru
leId":"@typescript-eslint/no-unused-vars","severity":2,"messa
ge":"'getGenreName' is defined but never used.","line":6,"col
umn":24,"nodeType":null,"messageId":"unusedVar","endLine":6,"
endColumn":36},{"ruleId":"@typescript-eslint/no-unused-vars",
"severity":2,"message":"'Keyboard' is defined but never used.
","line":10,"column":28,"nodeType":null,"messageId":"unusedVa
r","endLine":10,"endColumn":36},{"ruleId":"@typescript-eslint
/no-explicit-any","severity":2,"message":"Unexpected any. Spe
cify a different type.","line":108,"column":33,"nodeType":"TS
AnyKeyword","messageId":"unexpectedAny","endLine":108,"endCol
umn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"
range":[4905,4908],"text":"unknown"},"desc":"Use `unknown` in
stead, this will force you to explicitly, and safely assert t
he type is correct."},{"messageId":"suggestNever","fix":{"ran
ge":[4905,4908],"text":"never"},"desc":"Use `never` instead, 
this is useful when instantiating generic type parameters tha
t you don't need to know the type of."}]}],"suppressedMessage
s":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fi
xableErrorCount":0,"fixableWarningCount":0,"source":"\"use cl
ient\";\r\n\r\nimport { useEffect, useState } from \"react\";
\r\nimport { useRouter } from \"next/navigation\";\r\nimport 
{ createClient } from \"@/lib/supabase/client\";\r\nimport { 
getAllGenres, getGenreName } from \"@/lib/roblox\";\r\nimport
 Link from \"next/link\";\r\nimport {\r\n    Gamepad2, Buildi
ng2, Crown, Rocket, Swords, Ghost, Anchor,\r\n    Smile, Moun
tain, Tent, Keyboard, MonitorPlay, Hammer,\r\n    Target, Tro
phy, BookOpen, ChevronLeft\r\n} from \"lucide-react\";\r\n\r\
nconst supabase = createClient();\r\n\r\nexport default funct
ion GenrePage() {\r\n    const [genreCounts, setGenreCounts] 
= useState<Record<string, number>>({});\r\n    const [loading
, setLoading] = useState(true);\r\n    const router = useRout
er();\r\n\r\n    useEffect(() => {\r\n        async function 
fetchGenreCounts() {\r\n            const { data } = await su
pabase.from(\"places\").select(\"genre\");\r\n\r\n           
 if (data) {\r\n                const counts: Record<string, 
number> = {};\r\n                for (const place of data) {\
r\n                    const genre = place.genre;\r\n        
            if (genre) {\r\n                        counts[ge
nre] = (counts[genre] || 0) + 1;\r\n                    }\r\n
                }\r\n                setGenreCounts(counts);\
r\n            }\r\n            setLoading(false);\r\n       
 }\r\n\r\n        fetchGenreCounts();\r\n    }, []);\r\n\r\n 
   // Show all genres with \"縺昴・莉暴" (All) at the end\r\n    c
onst genres = getAllGenres().sort((a, b) => {\r\n        if (
a.id === \"All\") return 1;\r\n        if (b.id === \"All\") 
return -1;\r\n        return 0;\r\n    });\r\n\r\n    return 
(\r\n        <main className=\"min-h-screen bg-[#0B0E14] text
-white pb-20\">\r\n            {/* Header */}\r\n            
<div className=\"bg-[#0B0E14]/80 backdrop-blur-md border-b bo
rder-slate-800 sticky top-0 z-20\">\r\n                <div c
lassName=\"max-w-7xl mx-auto px-6 py-6\">\r\n                
    <Link href=\"/\" className=\"inline-flex items-center tex
t-slate-400 hover:text-white mb-4 transition-colors\">\r\n   
                     <ChevronLeft className=\"w-4 h-4 mr-1\" 
/>\r\n                        繝帙・繝縺ｫ謌ｻ繧欺r\n                 
   </Link>\r\n                    <h1 className=\"text-3xl fo
nt-bold flex items-center gap-3\">\r\n                       
 <Gamepad2 className=\"w-8 h-8 text-purple-500\" />\r\n      
                  繧ｸ繝｣繝ｳ繝ｫ縺九ｉ謗｢縺兔r\n                    </h1>
\r\n                </div>\r\n            </div>\r\n\r\n     
       {/* Genre Grid */}\r\n            <div className=\"max
-w-7xl mx-auto px-6 py-8\">\r\n                {loading ? (\r
\n                    <div className=\"grid grid-cols-2 md:gr
id-cols-3 lg:grid-cols-4 gap-4\">\r\n                        
{[...Array(8)].map((_, i) => (\r\n                           
 <div key={i} className=\"bg-[#151921] h-32 rounded-xl animat
e-pulse border border-slate-800\" />\r\n                     
   ))}\r\n                    </div>\r\n                ) : (
\r\n                    <div className=\"grid grid-cols-2 md:
grid-cols-3 lg:grid-cols-4 gap-4\">\r\n                      
  {genres.map((genre) => {\r\n                            con
st count = genreCounts[genre.id] || 0;\r\n                   
         const Icon = getGenreIcon(genre.id);\r\n\r\n        
                    return (\r\n                             
   <div\r\n                                    key={genre.id}
\r\n                                    onClick={() => router
.push(`/genre/${encodeURIComponent(genre.id)}`)}\r\n         
                           className=\"group cursor-pointer b
g-[#151921] hover:bg-[#1c222c] rounded-xl p-6 border border-s
late-800 hover:border-purple-500/50 transition-all transform 
hover:-translate-y-1 relative overflow-hidden\"\r\n          
                      >\r\n                                  
  <div className=\"absolute -top-6 -right-6 w-24 h-24 bg-purp
le-500/5 rounded-full group-hover:bg-purple-500/10 transition
-colors blur-xl\" />\r\n\r\n                                 
   <div className=\"relative z-10\">\r\n                     
                   <div className=\"mb-4 p-3 bg-slate-800 w-f
it rounded-lg text-purple-400 group-hover:text-purple-300 tra
nsition-colors\">\r\n                                        
    <Icon className=\"w-8 h-8\" />\r\n                       
                 </div>\r\n                                  
      <h3 className=\"text-lg font-bold text-slate-100 group-
hover:text-white transition-colors mb-1\">\r\n               
                             {genre.name}\r\n                
                        </h3>\r\n                            
            <p className=\"text-slate-500 text-xs font-medium
\">\r\n                                            {count > 0
 ? `${count} Titles` : \"No titles\"}\r\n                    
                    </p>\r\n                                 
   </div>\r\n                                </div>\r\n      
                      );\r\n                        })}\r\n  
                  </div>\r\n                )}\r\n           
 </div>\r\n        </main>\r\n    );\r\n}\r\n\r\nfunction get
GenreIcon(genre: string) {\r\n    const icons: Record<string,
 any> = {\r\n        \"All\": Gamepad2,\r\n        \"Town and
 City\": Building2,\r\n        \"Medieval\": Crown, // Lucide
 doesn't have Castle? Using Crown for now, or maybe Building 
is safe.\r\n        \"Scifi\": Rocket,\r\n        \"Fighting\
": Swords, // or Shield\r\n        \"Horror\": Ghost,\r\n    
    \"Naval\": Anchor,\r\n        \"Comedy\": Smile,\r\n     
   \"Western\": Mountain, // Close enough?\r\n        \"Milit
ary\": Target,\r\n        \"Building\": Hammer,\r\n        \"
FPS\": CrosshairIcon, // wait, Crosshair might not be exporte
d as such. Let's stick to safe ones.\r\n        \"RPG\": Book
Open, // Story? or Sword?\r\n        \"Adventure\": Tent,\r\n
        \"Sports\": Trophy,\r\n        \"Tutorial\": MonitorP
lay,\r\n    };\r\n    return icons[genre] || Gamepad2;\r\n}\r
\n\r\n// Helper for FPS if needed\r\nconst CrosshairIcon = Ta
rget;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\
chott\\OneDrive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\GitHub\\starrepo\\src\\ap
p\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unu
sed-vars","severity":2,"message":"'Plus' is defined but never
 used.","line":6,"column":18,"nodeType":null,"messageId":"unu
sedVar","endLine":6,"endColumn":22}],"suppressedMessages":[],
"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableE
rrorCount":0,"fixableWarningCount":0,"source":"\"use client\"
;\r\n\r\nimport { useState } from \"react\";\r\nimport { useR
outer } from \"next/navigation\";\r\nimport Link from \"next/
link\";\r\nimport { Search, Plus, Sparkles, Trophy } from \"l
ucide-react\";\r\nimport PlaceList from \"@/components/PlaceL
ist\";\r\nimport { showToast } from \"@/components/ToastConta
iner\";\r\n\r\nexport default function Home() {\r\n    const 
[placeId, setPlaceId] = useState(\"\");\r\n    const [loading
, setLoading] = useState(false);\r\n    const router = useRou
ter();\r\n\r\n    const handleSearch = async (e: React.FormEv
ent) => {\r\n        e.preventDefault();\r\n        if (!plac
eId.trim()) return;\r\n\r\n        // 繧ゅ＠蜈･蜉帙＆繧後◆縺ｮ縺梧焚蟄励・縺ｿ縺ｪ
繧・>逋ｻ骭ｲ繝ｭ繧ｸ繝・け・医≠繧九＞縺ｯ隧ｳ邏ｰ繝壹・繧ｸ縺ｸ・噂r\n        // 譎ｮ騾壹・繧ｭ繝ｼ繝ｯ繝
ｼ繝峨↑繧・>讀懃ｴ｢繝壹・繧ｸ縺ｸ\r\n        // 莉雁屓縺ｮ隕∽ｻｶ縺ｧ縺ｯ縲檎匳骭ｲ縲肴ｩ溯・繧呈､懃ｴ
｢繝舌・縺ｫ邨ｱ蜷医☆繧句ｽ｢縺ｫ縺吶ｋ縺後―r\n        // 繝ｦ繝ｼ繧ｶ繝ｼ縺後梧､懃ｴ｢縲阪▽繧ゅｊ縺
ｧ謇薙▽縺薙→繧り・・縺励∵焚蟄励・蝣ｴ蜷医・逋ｻ骭ｲ/遘ｻ蜍輔∵枚蟄怜・縺ｮ蝣ｴ蜷医・讀懃ｴ｢繝壹・繧ｸ縺ｸ鬟帙・
縺吶・縺後せ繝槭・繝・r\n\r\n        // Check if input is a Place ID (di
gits)\r\n        if (/^\\d+$/.test(placeId.trim())) {\r\n    
        registerOrGoToPlace(placeId.trim());\r\n        } els
e {\r\n            // It's a keyword -> go to search\r\n     
       router.push(`/search?q=${encodeURIComponent(placeId.tr
im())}`);\r\n        }\r\n    };\r\n\r\n    const registerOrG
oToPlace = async (id: string) => {\r\n        setLoading(true
);\r\n        try {\r\n            const res = await fetch(\"
/api/register\", {\r\n                method: \"POST\",\r\n  
              headers: { \"Content-Type\": \"application/json
\" },\r\n                body: JSON.stringify({ placeId: id }
),\r\n            });\r\n            const json = await res.j
son();\r\n\r\n            if (res.ok) {\r\n                if
 (json.alreadyExists) {\r\n                    // 縺吶〒縺ｫ蟄伜惠縺吶ｋ
蝣ｴ蜷医・縺昴・縺ｾ縺ｾ隧ｳ邏ｰ繝壹・繧ｸ縺ｸ・医ヨ繝ｼ繧ｹ繝医・諠・ｱ縺ｨ縺励※蜃ｺ縺呻ｼ噂r\n          
          // showToast(json.message, \"info\");\r\n          
          router.push(`/place/${id}`);\r\n                } e
lse {\r\n                    showToast(`${json.gameName || \"
繧ｲ繝ｼ繝\"}繧堤匳骭ｲ縺励∪縺励◆・～, \"success\");\r\n                    
router.push(`/place/${json.placeId}`);\r\n                }\r
\n            } else {\r\n                showToast(json.erro
r || \"逋ｻ骭ｲ縺ｫ螟ｱ謨励＠縺ｾ縺励◆\", \"error\");\r\n            }\r\n  
      } catch (err) {\r\n            console.error(err);\r\n 
           showToast(\"繧ｨ繝ｩ繝ｼ縺檎匱逕溘＠縺ｾ縺励◆縲・", \"error\");\r\n 
       } finally {\r\n            setLoading(false);\r\n     
   }\r\n    };\r\n\r\n    return (\r\n        <main className
=\"min-h-screen pb-20 overflow-x-hidden bg-[#0B0E14]\">\r\n  
          {/* Hero Section */}\r\n            <section classN
ame=\"relative min-h-[70vh] flex flex-col items-center justif
y-center overflow-hidden pt-20\">\r\n                {/* Back
ground Decor */}\r\n                <div className=\"absolute
 inset-0 z-0\">\r\n                    <div className=\"absol
ute top-0 left-1/4 w-[500px] h-[500px] bg-purple-600/20 round
ed-full blur-[120px] opacity-30 mix-blend-screen animate-puls
e\"></div>\r\n                    <div className=\"absolute b
ottom-0 right-1/4 w-[500px] h-[500px] bg-yellow-600/10 rounde
d-full blur-[120px] opacity-30 mix-blend-screen animate-pulse
 delay-1000\"></div>\r\n                </div>\r\n\r\n       
         <div className=\"relative z-10 w-full max-w-4xl mx-a
uto px-6 text-center\">\r\n                    <div className
=\"animate-fade-in-up space-y-8\">\r\n                       
 {/* Tagline */}\r\n                        <div className=\"
inline-flex items-center gap-2 px-4 py-2 rounded-full bg-whit
e/5 border border-white/10 backdrop-blur-sm\">\r\n           
                 <Sparkles className=\"w-4 h-4 text-yellow-40
0\" />\r\n                            <span className=\"text-
sm font-medium text-slate-300\">\r\n                         
       谺｡荳紋ｻ｣縺ｮ Roblox 繝ｬ繝薙Η繝ｼ繝励Λ繝・ヨ繝輔か繝ｼ繝\r\n              
              </span>\r\n                        </div>\r\n\r
\n                        {/* Main Title */}\r\n             
           <h1 className=\"text-5xl sm:text-7xl font-bold tra
cking-tight text-white drop-shadow-2xl leading-tight\">\r\n  
                          Discover <span className=\"text-tra
nsparent bg-clip-text bg-gradient-to-r from-yellow-400 to-ora
nge-500\">Hidden Gems</span>\r\n                            <
br />\r\n                            in Roblox\r\n           
             </h1>\r\n\r\n                        <p classNam
e=\"text-lg text-slate-400 max-w-2xl mx-auto leading-relaxed\
">\r\n                            蝓九ｂ繧後◆蜷堺ｽ懊ｒ逋ｺ謗倥＠縲√さ繝溘Η繝九ユ繧｣
縺ｨ蜈ｱ縺ｫ閧ｲ縺ｦ繧医≧縲・br className=\"hidden sm:block\" />\r\n       
                     Place ID繧貞・蜉帙＠縺ｦ譁ｰ縺励＞繧ｲ繝ｼ繝繧堤匳骭ｲ縺吶ｋ縺九√く
繝ｼ繝ｯ繝ｼ繝峨〒讀懃ｴ｢縺ｧ縺阪∪縺吶・r\n                        </p>\r\n\r\n
                        {/* Unified Search Bar */}\r\n       
                 <div className=\"max-w-xl mx-auto mt-10\">\r
\n                            <form onSubmit={handleSearch} c
lassName=\"relative group\">\r\n                             
   <div className=\"absolute -inset-0.5 bg-gradient-to-r from
-yellow-500 to-orange-600 rounded-2xl opacity-30 group-hover:
opacity-100 transition duration-500 blur\"></div>\r\n        
                        <div className=\"relative flex items-
center bg-[#151921] rounded-2xl border border-white/10 shadow
-2xl overflow-hidden\">\r\n                                  
  <div className=\"pl-6 text-slate-500\">\r\n                
                        <Search className=\"w-5 h-5\" />\r\n 
                                   </div>\r\n                
                    <input\r\n                               
         type=\"text\"\r\n                                   
     value={placeId}\r\n                                     
   onChange={(e) => setPlaceId(e.target.value)}\r\n          
                              placeholder=\"繧ｭ繝ｼ繝ｯ繝ｼ繝・縺ｾ縺溘・ P
lace ID 繧貞・蜉・..\"\r\n                                        
className=\"w-full bg-transparent text-white placeholder-slat
e-500 px-4 py-5 outline-none text-lg\"\r\n                   
                 />\r\n                                    <b
utton\r\n                                        type=\"submi
t\"\r\n                                        disabled={load
ing || !placeId}\r\n                                        c
lassName=\"mr-2 px-6 py-3 bg-white text-black font-bold round
ed-xl hover:bg-slate-200 transition-colors disabled:opacity-5
0 disabled:cursor-not-allowed flex items-center gap-2\"\r\n  
                                  >\r\n                      
                  {loading ? (\r\n                           
                 <div className=\"animate-spin h-5 w-5 border
-2 border-black border-t-transparent rounded-full\"></div>\r\
n                                        ) : (\r\n           
                                 <>\r\n                      
                          <span>Go</span>\r\n                
                            </>\r\n                          
              )}\r\n                                    </but
ton>\r\n                                </div>\r\n           
                 </form>\r\n                            <p cl
assName=\"mt-4 text-xs text-slate-500\">\r\n                 
               萓・ <span className=\"text-slate-400\">27539155
49</span> (Blox Fruits) 繧・<span className=\"text-slate-400\">
Tycoon</span> 縺ｪ縺ｩ\r\n                            </p>\r\n   
                     </div>\r\n                    </div>\r\n
                </div>\r\n            </section>\r\n\r\n     
       {/* Popular Section */}\r\n            <section classN
ame=\"max-w-7xl mx-auto px-6 pt-12\">\r\n                <div
 className=\"flex items-end justify-between mb-8 pb-4 border-
b border-white/5\">\r\n                    <div>\r\n         
               <h2 className=\"text-3xl font-bold text-white 
mb-2 flex items-center gap-3\">\r\n                          
  <Trophy className=\"w-8 h-8 text-yellow-500\" />\r\n       
                     莠ｺ豌励・繧ｲ繝ｼ繝\r\n                        <
/h2>\r\n                        <p className=\"text-slate-400
 text-sm\">繧ｳ繝溘Η繝九ユ繧｣縺ｧ豕ｨ逶ｮ縺輔ｌ縺ｦ縺・ｋ隧ｱ鬘後・菴懷刀</p>\r\n          
          </div>\r\n                    <Link\r\n            
            href=\"/ranking\"\r\n                        clas
sName=\"group flex items-center gap-2 text-slate-400 hover:te
xt-white font-medium transition-colors text-sm\"\r\n         
           >\r\n                        縺吶∋縺ｦ隕九ｋ\r\n         
               <span className=\"group-hover:translate-x-1 tr
ansition-transform\">竊・/span>\r\n                    </Link>\
r\n                </div>\r\n                <PlaceList />\r\
n            </section>\r\n        </main>\r\n    );\r\n}\r\n
","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\chott\\On
eDrive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\GitHub\\starrepo\\src\\app\\place\
\[id]\\page.tsx","messages":[{"ruleId":"prefer-const","severi
ty":2,"message":"'likedReviewIds' is never reassigned. Use 'c
onst' instead.","line":92,"column":7,"nodeType":"Identifier",
"messageId":"useConst","endLine":92,"endColumn":21,"fix":{"ra
nge":[2827,2866],"text":"const likedReviewIds = new Set<numbe
r>();"}},{"ruleId":"@next/next/no-img-element","severity":1,"
message":"Using `<img>` could result in slower LCP and higher
 bandwidth. Consider using `<Image />` from `next/image` or a
 custom image loader to automatically optimize images. This m
ay incur additional usage or cost from your provider. See: ht
tps://nextjs.org/docs/messages/no-img-element","line":156,"co
lumn":17,"nodeType":"JSXOpeningElement","endLine":156,"endCol
umn":106}],"suppressedMessages":[],"errorCount":1,"fatalError
Count":0,"warningCount":1,"fixableErrorCount":1,"fixableWarni
ngCount":0,"source":"import { notFound } from \"next/navigati
on\";\r\nimport { createClient } from \"@/lib/supabase/server
\";\r\nimport { getRobloxGameData } from \"@/lib/roblox\";\r\
nimport ReviewForm from \"@/components/ReviewForm\";\r\nimpor
t CollapsibleDescription from \"@/components/CollapsibleDescr
iption\";\r\nimport MylistButton from \"@/components/MylistBu
tton\";\r\nimport ReviewsSection from \"@/components/ReviewsS
ection\"; // Import NEW component\r\nimport Link from \"next/
link\";\r\nimport { ChevronLeft, Play, PenLine, Eye, Heart, U
sers, Gamepad2 } from \"lucide-react\";\r\n\r\n// Force dynam
ic rendering to ensure fresh auth state\r\nexport const dynam
ic = \"force-dynamic\";\r\n\r\nasync function getPlace(id: nu
mber) {\r\n  const supabase = await createClient();\r\n\r\n  
// 1. Try to get from DB\r\n  const { data: place } = await s
upabase\r\n    .from(\"places\")\r\n    .select(\"*\")\r\n   
 .eq(\"place_id\", id)\r\n    .single();\r\n\r\n  if (place) 
return place;\r\n\r\n  // 2. If not in DB, try to fetch from 
Roblox and register\r\n  const gameData = await getRobloxGame
Data(id);\r\n  if (!gameData) return null;\r\n\r\n  const { e
rror } = await supabase.from(\"places\").insert({\r\n    plac
e_id: gameData.placeId,\r\n    universe_id: gameData.universe
Id,\r\n    name: gameData.name,\r\n    description: gameData.
description,\r\n    creator_name: gameData.creatorName,\r\n  
  visit_count: gameData.visits,\r\n    playing: gameData.play
ing,\r\n    favorite_count: gameData.favorites,\r\n    like_c
ount: gameData.upVotes,\r\n    dislike_count: gameData.downVo
tes,\r\n    icon_url: gameData.iconUrl,\r\n    thumbnail_url:
 gameData.thumbnailUrl,\r\n    price: gameData.price,\r\n    
genre: gameData.genre,\r\n    first_released_at: gameData.cre
ated,\r\n    last_updated_at: gameData.updated,\r\n    last_s
ynced_at: new Date().toISOString(),\r\n  });\r\n\r\n  if (err
or) {\r\n    console.error(\"Auto-register error:\", error);\
r\n    return null;\r\n  }\r\n\r\n  return {\r\n    place_id:
 gameData.placeId,\r\n    ...gameData,\r\n    visit_count: ga
meData.visits,\r\n    favorite_count: gameData.favorites,\r\n
    thumbnail_url: gameData.thumbnailUrl,\r\n    creator_name
: gameData.creatorName,\r\n  };\r\n}\r\n\r\nasync function ge
tReviews(placeId: number, currentUserId?: string) {\r\n  cons
t supabase = await createClient();\r\n\r\n  // reviews 繧貞叙蠕予r
\n  const { data: reviews, error: reviewsError } = await supa
base\r\n    .from(\"reviews\")\r\n    .select(\"*, review_lik
es(count)\")\r\n    .eq(\"place_id\", placeId)\r\n    .order(
\"created_at\", { ascending: false });\r\n\r\n  if (reviewsEr
ror) {\r\n    console.error(\"Error fetching reviews:\", revi
ewsError);\r\n    return [];\r\n  }\r\n\r\n  if (!reviews || 
reviews.length === 0) {\r\n    return [];\r\n  }\r\n\r\n  // 
繝ｦ繝ｼ繧ｶ繝ｼ繝励Ο繝輔ぃ繧､繝ｫ蜿門ｾ予r\n  const userIds = [...new Set(review
s.map(r => r.user_id))];\r\n  const { data: profiles } = awai
t supabase\r\n    .from(\"profiles\")\r\n    .select(\"user_i
d, username, avatar_url\")\r\n    .in(\"user_id\", userIds);\
r\n\r\n  // 迴ｾ蝨ｨ縺ｮ繝ｦ繝ｼ繧ｶ繝ｼ縺後＞縺・・縺励※縺・ｋ縺狗｢ｺ隱構r\n  let likedRev
iewIds = new Set<number>();\r\n  if (currentUserId) {\r\n    
const { data: userLikes } = await supabase\r\n      .from(\"r
eview_likes\")\r\n      .select(\"review_id\")\r\n      .eq(\
"user_id\", currentUserId)\r\n      .in(\"review_id\", review
s.map(r => r.id));\r\n\r\n    if (userLikes) {\r\n      userL
ikes.forEach(l => likedReviewIds.add(l.review_id));\r\n    }\
r\n  }\r\n\r\n  // 繝・・繧ｿ邨仙粋\r\n  return reviews.map(review =>
 ({\r\n    ...review,\r\n    profiles: profiles?.find(p => p.
user_id === review.user_id) || null,\r\n    like_count: revie
w.review_likes?.[0]?.count || 0,\r\n    is_liked: likedReview
Ids.has(review.id)\r\n  }));\r\n}\r\n\r\nasync function getUs
erReview(placeId: number, userId: string) {\r\n  const supaba
se = await createClient();\r\n  const { data } = await supaba
se\r\n    .from(\"reviews\")\r\n    .select(\"*\")\r\n    .eq
(\"place_id\", placeId)\r\n    .eq(\"user_id\", userId)\r\n  
  .single();\r\n  return data;\r\n}\r\n\r\nexport default asy
nc function PlacePage({ params }: { params: Promise<{ id: str
ing }> }) {\r\n  const { id } = await params;\r\n  const plac
eId = Number(id);\r\n\r\n  if (isNaN(placeId)) return notFoun
d();\r\n\r\n  const place = await getPlace(placeId);\r\n  if 
(!place) return notFound();\r\n\r\n  const supabase = await c
reateClient();\r\n  const { data: { user } } = await supabase
.auth.getUser();\r\n\r\n  // getReviews縺ｫcurrentUserId繧呈ｸ｡縺兔r
\n  const reviews = await getReviews(placeId, user?.id);\r\n\
r\n  // 繝ｦ繝ｼ繧ｶ繝ｼ縺ｮ譌｢蟄倥Ξ繝薙Η繝ｼ繧貞叙蠕予r\n  const userReview = user
 ? await getUserReview(placeId, user.id) : null;\r\n\r\n  ret
urn (\r\n    <main className=\"min-h-screen bg-[#0B0E14] text
-slate-200 p-4 sm:p-8 pb-20\">\r\n      <div className=\"max-
w-5xl mx-auto\">\r\n        <Link href=\"/\" className=\"inli
ne-flex items-center text-sm text-slate-400 hover:text-white 
mb-6 transition-colors\">\r\n          <ChevronLeft className
=\"w-4 h-4 mr-1\" />\r\n          繝帙・繝縺ｫ謌ｻ繧欺r\n        </Lin
k>\r\n\r\n        {/* Game Header */}\r\n        <div classNa
me=\"bg-[#151921] rounded-2xl p-6 border border-slate-800 mb-
8 flex flex-col md:flex-row gap-8 shadow-xl shadow-black/20\"
>\r\n          <div className=\"w-full md:w-2/5 shrink-0\">\r
\n            <div className=\"aspect-video bg-slate-800 roun
ded-xl overflow-hidden border border-slate-700/50 shadow-inne
r relative group\">\r\n              {place.thumbnail_url ? (
\r\n                <img src={place.thumbnail_url} alt={place
.name} className=\"w-full h-full object-cover\" />\r\n       
       ) : (\r\n                <div className=\"w-full h-ful
l flex items-center justify-center text-slate-600\">\r\n     
             <Gamepad2 className=\"w-12 h-12 opacity-50\" />\
r\n                </div>\r\n              )}\r\n            
  <div className=\"absolute inset-0 bg-black/20 group-hover:b
g-transparent transition-colors\"></div>\r\n            </div
>\r\n          </div>\r\n\r\n          <div className=\"flex-
1 flex flex-col justify-center\">\r\n            <h1 classNam
e=\"text-3xl sm:text-4xl font-bold text-white mb-2\">{place.n
ame}</h1>\r\n            <p className=\"text-slate-400 font-m
edium mb-4 flex items-center gap-2\">\r\n              <span 
className=\"text-slate-500\">by</span>\r\n              <span
 className=\"text-slate-300 hover:text-white transition-color
s cursor-pointer\">{place.creator_name}</span>\r\n           
 </p>\r\n\r\n            <div className=\"grid grid-cols-3 ga
p-4 mb-6 bg-[#0B0E14] p-4 rounded-lg border border-slate-800/
50\">\r\n              <div className=\"text-center\">\r\n   
             <div className=\"text-xs text-slate-500 uppercas
e tracking-wider mb-1 flex items-center justify-center gap-1\
">\r\n                  <Eye className=\"w-3.5 h-3.5\" /> 險ｪ蝠
十r\n                </div>\r\n                <div className=
\"text-lg font-bold text-slate-200\">{(place.visit_count / 10
00000).toFixed(1)}M+</div>\r\n              </div>\r\n       
       <div className=\"text-center border-l border-slate-800
\">\r\n                <div className=\"text-xs text-slate-50
0 uppercase tracking-wider mb-1 flex items-center justify-cen
ter gap-1\">\r\n                  <Heart className=\"w-3.5 h-
3.5\" /> 縺・＞縺ｭ\r\n                </div>\r\n                <
div className=\"text-lg font-bold text-slate-200\">{(place.fa
vorite_count / 1000).toFixed(1)}K+</div>\r\n              </d
iv>\r\n              <div className=\"text-center border-l bo
rder-slate-800\">\r\n                <div className=\"text-xs
 text-slate-500 uppercase tracking-wider mb-1 flex items-cent
er justify-center gap-1\">\r\n                  <Users classN
ame=\"w-3.5 h-3.5\" /> 繝励Ξ繧､荳ｭ\r\n                </div>\r\n 
               <div className=\"text-lg font-bold text-green-
400\">{place.playing?.toLocaleString() || \"-\"}</div>\r\n   
           </div>\r\n            </div>\r\n\r\n            <d
iv className=\"flex flex-col gap-3\">\r\n              <div c
lassName=\"flex gap-3\">\r\n                <a\r\n           
       href={`https://www.roblox.com/games/${place.place_id}`
}\r\n                  target=\"_blank\"\r\n                 
 rel=\"noopener noreferrer\"\r\n                  className=\
"flex-1 text-center bg-green-600 hover:bg-green-500 text-whit
e font-bold py-3 px-8 rounded-xl transition-all shadow-lg sha
dow-green-900/20 transform hover:-translate-y-0.5 flex items-
center justify-center gap-2\"\r\n                >\r\n       
           <Play className=\"w-5 h-5 fill-current\" />\r\n   
               Roblox縺ｧ繝励Ξ繧､\r\n                </a>\r\n     
           <MylistButton placeId={place.place_id} placeName={
place.name} />\r\n              </div>\r\n\r\n              {
/* Review Shortcut Button */}\r\n              <a\r\n        
        href=\"#review-form\"\r\n                className=\"
w-full text-center py-2.5 px-4 bg-slate-800 hover:bg-slate-70
0 text-slate-300 hover:text-white rounded-xl transition-color
s text-sm font-medium border border-slate-700 flex items-cent
er justify-center gap-2\"\r\n              >\r\n             
   <PenLine className=\"w-4 h-4\" />\r\n                繝ｬ繝薙Η
繝ｼ繧呈嶌縺・/ 邱ｨ髮・☆繧欺r\n              </a>\r\n            </div>\r
\n          </div>\r\n        </div>\r\n\r\n        {/* Colla
psible Description */}\r\n        <CollapsibleDescription des
cription={place.description} />\r\n\r\n        <div className
=\"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8\">\r\n         
 {/* Left Column: Reviews List */}\r\n          <div classNam
e=\"lg:col-span-2 space-y-6\">\r\n            <div className=
\"flex items-center justify-between\">\r\n              <h2 c
lassName=\"text-2xl font-bold text-white border-l-4 border-ye
llow-500 pl-4\">繝ｬ繝薙Η繝ｼ</h2>\r\n              {/* Count is no
w handled inside ReviewsSection or we can show total here */}
\r\n            </div>\r\n\r\n            {/* Replace manual 
mapping with ReviewsSection */}\r\n            <ReviewsSectio
n initialReviews={reviews} currentUserId={user?.id} />\r\n   
       </div>\r\n\r\n          {/* Right Column: Review Form 
*/}\r\n          <div className=\"lg:col-span-1\" id=\"review
-form\">\r\n            <div className=\"sticky top-6\">\r\n 
             <ReviewForm placeId={placeId} user={user} existi
ngReview={userReview} />\r\n            </div>\r\n          <
/div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  )
;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\
\chott\\OneDrive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\GitHub\\starrepo\\src\\a
pp\\ranking\\page.tsx","messages":[{"ruleId":"@next/next/no-i
mg-element","severity":1,"message":"Using `<img>` could resul
t in slower LCP and higher bandwidth. Consider using `<Image 
/>` from `next/image` or a custom image loader to automatical
ly optimize images. This may incur additional usage or cost f
rom your provider. See: https://nextjs.org/docs/messages/no-i
mg-element","line":288,"column":41,"nodeType":"JSXOpeningElem
ent","endLine":292,"endColumn":43}],"suppressedMessages":[],"
errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableEr
rorCount":0,"fixableWarningCount":0,"source":"\"use client\";
\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimp
ort { useRouter } from \"next/navigation\";\r\nimport { creat
eClient } from \"@/lib/supabase/client\";\r\nimport { getGenr
eName } from \"@/lib/roblox\";\r\nimport Link from \"next/lin
k\";\r\nimport { Trophy, Users, Star, Gem, Heart, ChevronLeft
, Eye, MessageCircle, List } from \"lucide-react\";\r\n\r\nco
nst supabase = createClient();\r\n\r\ntype Place = {\r\n    p
lace_id: number;\r\n    name: string;\r\n    creator_name: st
ring;\r\n    thumbnail_url: string | null;\r\n    visit_count
: number;\r\n    favorite_count: number;\r\n    playing: numb
er | null;\r\n    average_rating?: number;\r\n    review_coun
t?: number;\r\n    mylist_count?: number;\r\n    genre: strin
g | null;\r\n};\r\n\r\ntype RankingType = \"overall\" | \"pla
ying\" | \"favorites\" | \"rating\" | \"reviews\" | \"mylist\
" | \"hidden\";\r\n\r\nexport default function RankingPage() 
{\r\n    const [places, setPlaces] = useState<Place[]>([]);\r
\n    const [loading, setLoading] = useState(true);\r\n    co
nst [rankingType, setRankingType] = useState<RankingType>(\"o
verall\");\r\n    const [selectedGenre, setSelectedGenre] = u
seState<string>(\"all\");\r\n    const [genres, setGenres] = 
useState<Array<{ id: string; name: string }>>([]);\r\n    con
st router = useRouter();\r\n\r\n    useEffect(() => {\r\n    
    async function fetchGenres() {\r\n            const { dat
a } = await supabase\r\n                .from(\"places\")\r\n
                .select(\"genre\")\r\n                .gte(\"
favorite_count\", 50)\r\n                .not(\"genre\", \"is
\", null);\r\n\r\n            if (data) {\r\n                
const uniqueGenres = [...new Set(data.map((p: { genre: string
 | null }) => p.genre).filter(Boolean))];\r\n                
const genreList = uniqueGenres.map(g => ({\r\n               
     id: g as string,\r\n                    name: getGenreNa
me(g as string)\r\n                }));\r\n                se
tGenres(genreList);\r\n            }\r\n        }\r\n        
fetchGenres();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\
n        async function fetchRanking() {\r\n            setLo
ading(true);\r\n\r\n            let query = supabase\r\n     
           .from(\"places\")\r\n                .select(\"*\"
)\r\n                .gte(\"favorite_count\", 50);\r\n\r\n   
         if (selectedGenre !== \"all\") {\r\n                
query = query.eq(\"genre\", selectedGenre);\r\n            }\
r\n\r\n            switch (rankingType) {\r\n                
case \"playing\":\r\n                    query = query.order(
\"playing\", { ascending: false });\r\n                    br
eak;\r\n                case \"favorites\":\r\n              
      query = query.order(\"favorite_count\", { ascending: fa
lse });\r\n                    break;\r\n                defa
ult:\r\n                    query = query.order(\"visit_count
\", { ascending: false });\r\n            }\r\n\r\n          
  const { data: placeData } = await query.limit(100);\r\n\r\n
            if (!placeData) {\r\n                setLoading(f
alse);\r\n                return;\r\n            }\r\n\r\n   
         const placeIds = placeData.map((p: Place) => p.place
_id);\r\n            const { data: allReviews } = await supab
ase\r\n                .from(\"reviews\")\r\n                
.select(\"place_id, rating\")\r\n                .in(\"place_
id\", placeIds);\r\n\r\n            const { data: mylistData 
} = await supabase\r\n                .from(\"user_mylist\")\
r\n                .select(\"place_id\")\r\n                .
in(\"place_id\", placeIds);\r\n\r\n            const reviewsM
ap = new Map<number, { count: number; sum: number }>();\r\n  
          if (allReviews) {\r\n                for (const r o
f allReviews) {\r\n                    const current = review
sMap.get(r.place_id) || { count: 0, sum: 0 };\r\n            
        reviewsMap.set(r.place_id, {\r\n                     
   count: current.count + 1,\r\n                        sum: 
current.sum + r.rating,\r\n                    });\r\n       
         }\r\n            }\r\n\r\n            const mylistMa
p = new Map<number, number>();\r\n            if (mylistData)
 {\r\n                for (const m of mylistData) {\r\n      
              mylistMap.set(m.place_id, (mylistMap.get(m.plac
e_id) || 0) + 1);\r\n                }\r\n            }\r\n\r
\n            const withRatings = placeData.map((p: Place) =>
 {\r\n                const stats = reviewsMap.get(p.place_id
);\r\n                const count = stats?.count || 0;\r\n   
             const avg = count > 0 ? stats!.sum / count : 0;\
r\n\r\n                return {\r\n                    ...p,\
r\n                    average_rating: avg,\r\n              
      review_count: count,\r\n                    mylist_coun
t: mylistMap.get(p.place_id) || 0,\r\n                };\r\n 
           });\r\n\r\n            setPlaces(withRatings);\r\n
            setLoading(false);\r\n        }\r\n\r\n        fe
tchRanking();\r\n    }, [rankingType, selectedGenre]);\r\n\r\
n    const sortedPlaces = [...places].sort((a, b) => {\r\n   
     switch (rankingType) {\r\n            case \"overall\":\
r\n                const scoreA = (a.average_rating || 0) * M
ath.log10(a.visit_count || 1);\r\n                const score
B = (b.average_rating || 0) * Math.log10(b.visit_count || 1);
\r\n                return scoreB - scoreA;\r\n            ca
se \"playing\":\r\n                return (b.playing || 0) - 
(a.playing || 0);\r\n            case \"favorites\":\r\n     
           return (b.favorite_count || 0) - (a.favorite_count
 || 0);\r\n            case \"rating\":\r\n                if
 ((a.review_count || 0) < 3) return 1;\r\n                if 
((b.review_count || 0) < 3) return -1;\r\n                ret
urn (b.average_rating || 0) - (a.average_rating || 0);\r\n   
         case \"reviews\":\r\n                return (b.revie
w_count || 0) - (a.review_count || 0);\r\n            case \"
mylist\":\r\n                return (b.mylist_count || 0) - (
a.mylist_count || 0);\r\n            case \"hidden\":\r\n    
            const isHiddenA = (a.average_rating || 0) >= 4.5 
&& a.visit_count < 1000000;\r\n                const isHidden
B = (b.average_rating || 0) >= 4.5 && b.visit_count < 1000000
;\r\n                if (isHiddenA && !isHiddenB) return -1;\
r\n                if (!isHiddenA && isHiddenB) return 1;\r\n
                return (b.average_rating || 0) - (a.average_r
ating || 0);\r\n            default:\r\n                retur
n 0;\r\n        }\r\n    });\r\n\r\n    const robloxTabs = [\
r\n        { id: \"overall\", label: \"邱丞粋\", icon: Trophy },
\r\n        { id: \"playing\", label: \"莉翫・繝ｬ繧､荳ｭ\", icon: Us
ers },\r\n        { id: \"favorites\", label: \"縺頑ｰ励↓蜈･繧浬", i
con: Heart },\r\n    ];\r\n\r\n    const siteTabs = [\r\n    
    { id: \"rating\", label: \"鬮倩ｩ穂ｾ｡\", icon: Star },\r\n   
     { id: \"reviews\", label: \"繝ｬ繝薙Η繝ｼ謨ｰ\", icon: MessageCi
rcle },\r\n        { id: \"mylist\", label: \"繝槭う繝ｪ繧ｹ繝・", ico
n: List },\r\n        { id: \"hidden\", label: \"髫繧後◆蜷堺ｽ彌", 
icon: Gem },\r\n    ];\r\n\r\n    return (\r\n        <main c
lassName=\"min-h-screen bg-[#0B0E14] text-white pb-20\">\r\n 
           {/* Header */}\r\n            <div className=\"bg-
[#0B0E14]/80 backdrop-blur-md border-b border-slate-800 stick
y top-0 z-20\">\r\n                <div className=\"max-w-7xl
 mx-auto px-6 py-6\">\r\n                    <div className=\
"flex items-center gap-4 mb-6\">\r\n                        <
Link href=\"/\" className=\"text-slate-400 hover:text-white t
ransition-colors p-2 -ml-2 rounded-full hover:bg-slate-800\">
\r\n                            <ChevronLeft className=\"w-5 
h-5\" />\r\n                        </Link>\r\n              
          <div>\r\n                            <h1 className=
\"text-2xl font-bold flex items-center gap-2\">\r\n          
                      <Trophy className=\"w-6 h-6 text-yellow
-500\" />\r\n                                繝ｩ繝ｳ繧ｭ繝ｳ繧ｰ\r\n  
                          </h1>\r\n                        </
div>\r\n                    </div>\r\n\r\n                   
 <div className=\"flex flex-col gap-4\">\r\n                 
       {/* Roblox Data Tabs */}\r\n                        <d
iv className=\"flex flex-col gap-2\">\r\n                    
        <span className=\"text-xs text-slate-500 font-medium\
">Roblox繝・・繧ｿ</span>\r\n                            <div clas
sName=\"flex gap-1 overflow-x-auto no-scrollbar -mx-6 px-6 md
:mx-0 md:px-0\">\r\n                                {robloxTa
bs.map((tab) => (\r\n                                    <but
ton\r\n                                        key={tab.id}\r
\n                                        onClick={() => setR
ankingType(tab.id as RankingType)}\r\n                       
                 className={`flex items-center gap-2 px-4 py-
2 rounded-lg text-sm font-medium whitespace-nowrap transition
-all border ${rankingType === tab.id\r\n                     
                       ? \"bg-slate-800 text-white border-sla
te-600 shadow-lg shadow-black/20\"\r\n                       
                     : \"bg-transparent text-slate-400 border
-transparent hover:bg-slate-800/50 hover:text-slate-200\"\r\n
                                            }`}\r\n          
                          >\r\n                              
          <tab.icon className={`w-4 h-4 ${rankingType === tab
.id ? \"text-yellow-400\" : \"\"}`} />\r\n                   
                     {tab.label}\r\n                         
           </button>\r\n                                ))}\r
\n                            </div>\r\n                     
   </div>\r\n\r\n                        {/* Site Data Tabs *
/}\r\n                        <div className=\"flex flex-col 
gap-2\">\r\n                            <span className=\"tex
t-xs text-slate-500 font-medium\">繧ｵ繧､繝医ョ繝ｼ繧ｿ</span>\r\n     
                       <div className=\"flex gap-1 overflow-x
-auto no-scrollbar -mx-6 px-6 md:mx-0 md:px-0\">\r\n         
                       {siteTabs.map((tab) => (\r\n          
                          <button\r\n                        
                key={tab.id}\r\n                             
           onClick={() => setRankingType(tab.id as RankingTyp
e)}\r\n                                        className={`fl
ex items-center gap-2 px-4 py-2 rounded-lg text-sm font-mediu
m whitespace-nowrap transition-all border ${rankingType === t
ab.id\r\n                                            ? \"bg-s
late-800 text-white border-slate-600 shadow-lg shadow-black/2
0\"\r\n                                            : \"bg-tra
nsparent text-slate-400 border-transparent hover:bg-slate-800
/50 hover:text-slate-200\"\r\n                               
             }`}\r\n                                    >\r\n
                                        <tab.icon className={
`w-4 h-4 ${rankingType === tab.id ? \"text-yellow-400\" : \"\
"}`} />\r\n                                        {tab.label
}\r\n                                    </button>\r\n       
                         ))}\r\n                            <
/div>\r\n                        </div>\r\n\r\n              
          {/* Genre Filter */}\r\n                        <di
v className=\"mt-2\">\r\n                            <select\
r\n                                value={selectedGenre}\r\n 
                               onChange={(e) => setSelectedGe
nre(e.target.value)}\r\n                                class
Name=\"bg-[#151921] border border-slate-700 text-slate-200 ro
unded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-slate-600 
outline-none w-full md:w-auto hover:border-slate-600 transiti
on-colors cursor-pointer\"\r\n                            >\r
\n                                <option value=\"all\">蜈ｨ繧ｸ繝
｣繝ｳ繝ｫ</option>\r\n                                {genres.map
((genre) => (\r\n                                    <option 
key={genre.id} value={genre.id}>\r\n                         
               {genre.name}\r\n                              
      </option>\r\n                                ))}\r\n   
                         </select>\r\n                       
 </div>\r\n                    </div>\r\n                </di
v>\r\n            </div>\r\n\r\n            {/* Ranking List 
*/}\r\n            <div className=\"max-w-7xl mx-auto px-4 md
:px-6 py-8\">\r\n                {loading ? (\r\n            
        <div className=\"space-y-4\">\r\n                    
    {[...Array(5)].map((_, i) => (\r\n                       
     <div key={i} className=\"bg-[#151921] rounded-xl h-24 w-
full animate-pulse border border-slate-800\" />\r\n          
              ))}\r\n                    </div>\r\n          
      ) : (\r\n                    <div className=\"space-y-3
\">\r\n                        {sortedPlaces.slice(0, 50).map
((place, index) => (\r\n                            <div\r\n 
                               key={place.place_id}\r\n      
                          onClick={() => router.push(`/place/
${place.place_id}`)}\r\n                                class
Name=\"group cursor-pointer bg-[#151921] hover:bg-[#1c222c] r
ounded-xl p-3 md:p-4 border border-slate-800 hover:border-sla
te-700 transition-all flex items-center gap-4\"\r\n          
                  >\r\n                                {/* Ra
nk */}\r\n                                <div\r\n           
                         className={`text-2xl md:text-3xl fon
t-bold w-12 md:w-16 text-center shrink-0 font-mono ${index ==
= 0\r\n                                        ? \"text-yello
w-400 drop-shadow-[0_0_8px_rgba(250,204,21,0.3)]\"\r\n       
                                 : index === 1\r\n           
                                 ? \"text-slate-300\"\r\n    
                                        : index === 2\r\n    
                                            ? \"text-amber-60
0\"\r\n                                                : \"te
xt-slate-600\"\r\n                                        }`}
\r\n                                >\r\n                    
                {index + 1}\r\n                              
  </div>\r\n\r\n                                {/* Thumbnail
 */}\r\n                                <div className=\"w-24
 h-14 md:w-40 md:h-24 bg-slate-800 rounded-lg overflow-hidden
 shrink-0 relative\">\r\n                                    
{place.thumbnail_url ? (\r\n                                 
       <img\r\n                                            sr
c={place.thumbnail_url}\r\n                                  
          alt={place.name}\r\n                               
             className=\"w-full h-full object-cover group-hov
er:scale-105 transition-transform duration-300\"\r\n         
                               />\r\n                        
            ) : (\r\n                                        
<div className=\"w-full h-full flex items-center justify-cent
er text-slate-600\">\r\n                                     
       <Gem className=\"w-8 h-8 opacity-20\" />\r\n          
                              </div>\r\n                     
               )}\r\n                                </div>\r
\n\r\n                                {/* Info */}\r\n       
                         <div className=\"flex-1 min-w-0 py-1
\">\r\n                                    <h3 className=\"te
xt-base md:text-lg font-bold text-slate-100 truncate group-ho
ver:text-yellow-400 transition-colors\">\r\n                 
                       {place.name}\r\n                      
              </h3>\r\n                                    <d
iv className=\"flex items-center gap-2 text-xs md:text-sm tex
t-slate-500 mb-2\">\r\n                                      
  <span className=\"truncate\">by {place.creator_name}</span>
\r\n                                        {place.genre && (
\r\n                                            <span classNa
me=\"bg-slate-800 text-slate-400 px-2 py-0.5 rounded text-[10
px] hidden sm:inline-block border border-slate-700\">\r\n    
                                            {getGenreName(pla
ce.genre)}\r\n                                            </s
pan>\r\n                                        )}\r\n       
                             </div>\r\n\r\n                  
                  <div className=\"flex items-center gap-4 te
xt-xs md:text-sm text-slate-400\">\r\n                       
                 <div className=\"flex items-center gap-1 tex
t-yellow-500 font-bold bg-yellow-500/10 px-1.5 py-0.5 rounded
\">\r\n                                            <Star clas
sName=\"w-3 h-3 md:w-3.5 md:h-3.5 fill-yellow-500\" />\r\n   
                                         {place.average_ratin
g ? place.average_rating.toFixed(1) : \"-\"}\r\n             
                           </div>\r\n                        
                {place.playing !== null && place.playing > 0 
&& (\r\n                                            <div clas
sName=\"flex items-center gap-1 text-green-400 bg-green-500/1
0 px-1.5 py-0.5 rounded font-medium hidden sm:flex\">\r\n    
                                            <Users className=
\"w-3 h-3 md:w-3.5 md:h-3.5\" />\r\n                         
                       {place.playing.toLocaleString()}\r\n  
                                          </div>\r\n         
                               )}\r\n                        
                <div className=\"flex items-center gap-1\">\r
\n                                            <Eye className=
\"w-3 h-3 md:w-3.5 md:h-3.5\" />\r\n                         
                   {(place.visit_count / 1000000).toFixed(1)}
M+\r\n                                        </div>\r\n     
                                   <div className=\"flex item
s-center gap-1 hidden sm:flex\">\r\n                         
                   <Heart className=\"w-3 h-3 md:w-3.5 md:h-3
.5\" />\r\n                                            {(plac
e.favorite_count / 1000).toFixed(1)}K+\r\n                   
                     </div>\r\n                              
          {(place.review_count || 0) > 0 && (\r\n            
                                <div className=\"flex items-c
enter gap-1 text-blue-400 hidden sm:flex\">\r\n              
                                  <MessageCircle className=\"
w-3 h-3 md:w-3.5 md:h-3.5\" />\r\n                           
                     {place.review_count}\r\n                
                            </div>\r\n                       
                 )}\r\n                                      
  {(place.mylist_count || 0) > 0 && (\r\n                    
                        <div className=\"flex items-center ga
p-1 text-purple-400 hidden sm:flex\">\r\n                    
                            <List className=\"w-3 h-3 md:w-3.
5 md:h-3.5\" />\r\n                                          
      {place.mylist_count}\r\n                               
             </div>\r\n                                      
  )}\r\n                                    </div>\r\n       
                         </div>\r\n                          
  </div>\r\n                        ))}\r\n                  
  </div>\r\n                )}\r\n            </div>\r\n     
   </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"fi
lePath":"C:\\Users\\chott\\OneDrive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\GitHu
b\\starrepo\\src\\app\\search\\page.tsx","messages":[{"ruleId
":"react-hooks/exhaustive-deps","severity":1,"message":"React
 Hook useEffect has a missing dependency: 'performSearch'. Ei
ther include it or remove the dependency array.","line":42,"c
olumn":8,"nodeType":"ArrayExpression","endLine":42,"endColumn
":22,"suggestions":[{"desc":"Update the dependencies array to
 be: [performSearch, searchParams]","fix":{"range":[1285,1299
],"text":"[performSearch, searchParams]"}}]},{"ruleId":"@type
script-eslint/no-explicit-any","severity":2,"message":"Unexpe
cted any. Specify a different type.","line":199,"column":82,"
nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine
":199,"endColumn":85,"suggestions":[{"messageId":"suggestUnkn
own","fix":{"range":[7658,7661],"text":"unknown"},"desc":"Use
 `unknown` instead, this will force you to explicitly, and sa
fely assert the type is correct."},{"messageId":"suggestNever
","fix":{"range":[7658,7661],"text":"never"},"desc":"Use `nev
er` instead, this is useful when instantiating generic type p
arameters that you don't need to know the type of."}]},{"rule
Id":"@next/next/no-img-element","severity":1,"message":"Using
 `<img>` could result in slower LCP and higher bandwidth. Con
sider using `<Image />` from `next/image` or a custom image l
oader to automatically optimize images. This may incur additi
onal usage or cost from your provider. See: https://nextjs.or
g/docs/messages/no-img-element","line":232,"column":45,"nodeT
ype":"JSXOpeningElement","endLine":236,"endColumn":47}],"supp
ressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warnin
gCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"sour
ce":"\"use client\";\r\n\r\nimport { useEffect, useState } fr
om \"react\";\r\nimport { useRouter, useSearchParams } from \
"next/navigation\";\r\nimport { createClient } from \"@/lib/s
upabase/client\";\r\nimport Link from \"next/link\";\r\n\r\nc
onst supabase = createClient();\r\n\r\ntype Place = {\r\n    
place_id: number;\r\n    name: string;\r\n    creator_name: s
tring;\r\n    thumbnail_url: string | null;\r\n    visit_coun
t: number;\r\n    favorite_count: number;\r\n    average_rati
ng?: number;\r\n    review_count?: number;\r\n};\r\n\r\nexpor
t default function SearchPage() {\r\n    const [places, setPl
aces] = useState<Place[]>([]);\r\n    const [loading, setLoad
ing] = useState(false);\r\n    const [loadingMore, setLoading
More] = useState(false);\r\n    const [hasMore, setHasMore] =
 useState(false);\r\n    const [page, setPage] = useState(0);
\r\n    const [keyword, setKeyword] = useState(\"\");\r\n    
const [minRating, setMinRating] = useState(0);\r\n    const [
sortBy, setSortBy] = useState<\"relevance\" | \"rating\" | \"
visits\">(\"relevance\");\r\n    const router = useRouter();\
r\n    const searchParams = useSearchParams();\r\n\r\n    con
st ITEMS_PER_PAGE = 24;\r\n\r\n    useEffect(() => {\r\n     
   const q = searchParams.get(\"q\");\r\n        if (q) {\r\n
            setKeyword(q);\r\n            setPage(0);\r\n    
        performSearch(q, 0);\r\n        }\r\n    }, [searchPa
rams]);\r\n\r\n    const performSearch = async (searchKeyword
?: string, pageNum: number = 0) => {\r\n        const query =
 searchKeyword || keyword;\r\n        if (!query.trim()) retu
rn;\r\n\r\n        const isInitialLoad = pageNum === 0;\r\n  
      if (isInitialLoad) {\r\n            setLoading(true);\r
\n        } else {\r\n            setLoadingMore(true);\r\n  
      }\r\n\r\n        const from = pageNum * ITEMS_PER_PAGE;
\r\n        const to = from + ITEMS_PER_PAGE - 1;\r\n\r\n    
    // Search in database\r\n        const { data: placeData,
 count } = await supabase\r\n            .from(\"places\")\r\
n            .select(\"*\", { count: \"exact\" })\r\n        
    .gte(\"favorite_count\", 50)\r\n            .or(`name.ili
ke.%${query}%,creator_name.ilike.%${query}%`)\r\n            
.range(from, to);\r\n\r\n        if (!placeData) {\r\n       
     setLoading(false);\r\n            setLoadingMore(false);
\r\n            return;\r\n        }\r\n\r\n        // Fetch 
reviews\r\n        const placeIds = placeData.map((p) => p.pl
ace_id);\r\n        const { data: allReviews } = await supaba
se\r\n            .from(\"reviews\")\r\n            .select(\
"place_id, rating\")\r\n            .in(\"place_id\", placeId
s);\r\n\r\n        const reviewsMap = new Map<number, { count
: number; sum: number }>();\r\n        if (allReviews) {\r\n 
           for (const r of allReviews) {\r\n                c
onst current = reviewsMap.get(r.place_id) || { count: 0, sum:
 0 };\r\n                reviewsMap.set(r.place_id, {\r\n    
                count: current.count + 1,\r\n                
    sum: current.sum + r.rating,\r\n                });\r\n  
          }\r\n        }\r\n\r\n        const withRatings = p
laceData.map((p) => {\r\n            const stats = reviewsMap
.get(p.place_id);\r\n            const count = stats?.count |
| 0;\r\n            const avg = count > 0 ? stats!.sum / coun
t : 0;\r\n\r\n            return {\r\n                ...p,\r
\n                average_rating: avg,\r\n                rev
iew_count: count,\r\n            };\r\n        });\r\n\r\n   
     // Filter by rating\r\n        const filtered = withRati
ngs.filter((p) => (p.average_rating || 0) >= minRating);\r\n\
r\n        if (isInitialLoad) {\r\n            setPlaces(filt
ered);\r\n        } else {\r\n            setPlaces(prev => [
...prev, ...filtered]);\r\n        }\r\n\r\n        // Check 
if there are more items\r\n        if (count !== null) {\r\n 
           setHasMore((pageNum + 1) * ITEMS_PER_PAGE < count)
;\r\n        }\r\n\r\n        setLoading(false);\r\n        s
etLoadingMore(false);\r\n    };\r\n\r\n    const handleSearch
 = (e: React.FormEvent) => {\r\n        e.preventDefault();\r
\n        setPage(0);\r\n        performSearch(keyword, 0);\r
\n    };\r\n\r\n    const loadMore = () => {\r\n        const
 nextPage = page + 1;\r\n        setPage(nextPage);\r\n      
  performSearch(keyword, nextPage);\r\n    };\r\n\r\n    cons
t sortedPlaces = [...places].sort((a, b) => {\r\n        swit
ch (sortBy) {\r\n            case \"rating\":\r\n            
    return (b.average_rating || 0) - (a.average_rating || 0);
\r\n            case \"visits\":\r\n                return (b
.visit_count || 0) - (a.visit_count || 0);\r\n            def
ault:\r\n                return 0;\r\n        }\r\n    });\r\
n\r\n    return (\r\n        <main className=\"min-h-screen b
g-slate-900 text-white pb-20\">\r\n            {/* Header */}
\r\n            <div className=\"bg-slate-800 border-b border
-slate-700\">\r\n                <div className=\"max-w-7xl m
x-auto px-6 py-6\">\r\n                    <Link href=\"/\" c
lassName=\"text-sm text-slate-400 hover:text-white mb-4 inlin
e-block\">\r\n                        &larr; 繝帙・繝縺ｫ謌ｻ繧欺r\n  
                  </Link>\r\n                    <h1 classNam
e=\"text-4xl font-bold mb-2\">讀懃ｴ｢</h1>\r\n                  
  <p className=\"text-slate-400\">縺頑ｰ励↓蜈･繧翫・繧ｲ繝ｼ繝繧定ｦ九▽縺代ｈ縺・/
p>\r\n                </div>\r\n            </div>\r\n\r\n   
         {/* Search Form */}\r\n            <div className=\"
bg-slate-800/50 border-b border-slate-700\">\r\n             
   <div className=\"max-w-7xl mx-auto px-6 py-6\">\r\n       
             <form onSubmit={handleSearch} className=\"space-
y-4\">\r\n                        {/* Keyword */}\r\n        
                <div>\r\n                            <label c
lassName=\"block text-sm font-medium text-slate-400 mb-2\">繧ｭ
繝ｼ繝ｯ繝ｼ繝・/label>\r\n                            <div className
=\"flex gap-2\">\r\n                                <input\r\
n                                    type=\"text\"\r\n       
                             value={keyword}\r\n             
                       onChange={(e) => setKeyword(e.target.v
alue)}\r\n                                    placeholder=\"繧
ｲ繝ｼ繝蜷阪∽ｽ懆・錐縺ｧ讀懃ｴ｢...\"\r\n                                
    className=\"flex-1 bg-slate-900 border border-slate-700 r
ounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-yellow
-500 outline-none\"\r\n                                />\r\n
                                <button\r\n                  
                  type=\"submit\"\r\n                        
            className=\"bg-yellow-500 hover:bg-yellow-400 tex
t-black font-bold px-8 py-3 rounded-lg transition-colors\"\r\
n                                >\r\n                       
             讀懃ｴ｢\r\n                                </button
>\r\n                            </div>\r\n                  
      </div>\r\n\r\n                        {/* Filters */}\r
\n                        <div className=\"grid grid-cols-1 s
m:grid-cols-2 gap-4\">\r\n                            <div>\r
\n                                <label className=\"block te
xt-sm font-medium text-slate-400 mb-2\">譛菴手ｩ穂ｾ｡</label>\r\n 
                               <select\r\n                   
                 value={minRating}\r\n                       
             onChange={(e) => setMinRating(Number(e.target.va
lue))}\r\n                                    className=\"w-f
ull bg-slate-900 border border-slate-700 rounded-lg px-4 py-3
 text-white focus:ring-2 focus:ring-yellow-500 outline-none\"
\r\n                                >\r\n                    
                <option value={0}>縺吶∋縺ｦ</option>\r\n         
                           <option value={4}>笘・莉･荳・/option>\r
\n                                    <option value={4.5}>笘・.
5莉･荳・/option>\r\n                                </select>\r\
n                            </div>\r\n\r\n                  
          <div>\r\n                                <label cla
ssName=\"block text-sm font-medium text-slate-400 mb-2\">荳ｦ縺ｳ
譖ｿ縺・/label>\r\n                                <select\r\n   
                                 value={sortBy}\r\n          
                          onChange={(e) => setSortBy(e.target
.value as any)}\r\n                                    classN
ame=\"w-full bg-slate-900 border border-slate-700 rounded-lg 
px-4 py-3 text-white focus:ring-2 focus:ring-yellow-500 outli
ne-none\"\r\n                                >\r\n           
                         <option value=\"relevance\">髢｢騾｣蠎ｦ鬆・
/option>\r\n                                    <option value
=\"rating\">隧穂ｾ｡鬆・/option>\r\n                               
     <option value=\"visits\">險ｪ蝠乗焚鬆・/option>\r\n            
                    </select>\r\n                            
</div>\r\n                        </div>\r\n                 
   </form>\r\n                </div>\r\n            </div>\r\
n\r\n            {/* Results */}\r\n            <div classNam
e=\"max-w-7xl mx-auto px-6 py-8\">\r\n                {loadin
g ? (\r\n                    <div className=\"text-center py-
20 text-slate-500\">讀懃ｴ｢荳ｭ...</div>\r\n                ) : pl
aces.length === 0 && keyword ? (\r\n                    <div 
className=\"text-center py-20\">\r\n                        <
p className=\"text-slate-400 text-lg\">縲鶏keyword}縲阪・讀懃ｴ｢邨先棡縺瑚
ｦ九▽縺九ｊ縺ｾ縺帙ｓ縺ｧ縺励◆</p>\r\n                    </div>\r\n       
         ) : places.length > 0 ? (\r\n                    <>\
r\n                        <p className=\"text-slate-400 mb-6
\">{sortedPlaces.length}莉ｶ縺ｮ邨先棡</p>\r\n                      
  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-co
ls-3 gap-6\">\r\n                            {sortedPlaces.ma
p((place) => (\r\n                                <div\r\n   
                                 key={place.place_id}\r\n    
                                onClick={() => router.push(`/
place/${place.place_id}`)}\r\n                               
     className=\"group cursor-pointer bg-slate-800 rounded-xl
 overflow-hidden border border-slate-700 hover:border-yellow-
500/50 hover:shadow-lg transition-all\"\r\n                  
              >\r\n                                    <div c
lassName=\"relative h-48 bg-slate-700\">\r\n                 
                       {place.thumbnail_url ? (\r\n          
                                  <img\r\n                   
                             src={place.thumbnail_url}\r\n   
                                             alt={place.name}
\r\n                                                className
=\"w-full h-full object-cover group-hover:scale-110 transitio
n-transform duration-300\"\r\n                               
             />\r\n                                        ) 
: (\r\n                                            <div class
Name=\"w-full h-full flex items-center justify-center text-sl
ate-500\">逕ｻ蜒上↑縺・/div>\r\n                                   
     )}\r\n                                        <div class
Name=\"absolute inset-0 bg-gradient-to-t from-slate-900/90 to
-transparent\"></div>\r\n                                    
    <div className=\"absolute bottom-3 left-3 right-3\">\r\n 
                                           <h3 className=\"te
xt-lg font-bold text-white truncate group-hover:text-yellow-4
00 transition-colors\">\r\n                                  
              {place.name}\r\n                               
             </h3>\r\n                                       
     <p className=\"text-xs text-slate-400 truncate\">by {pla
ce.creator_name}</p>\r\n                                     
   </div>\r\n                                    </div>\r\n  
                                  <div className=\"p-4 flex i
tems-center justify-between text-sm\">\r\n                   
                     <div className=\"flex items-center gap-1
\">\r\n                                            <span clas
sName=\"text-yellow-500\">笘・/span>\r\n                       
                     <span>{place.average_rating ? place.aver
age_rating.toFixed(1) : \"-\"}</span>\r\n                    
                    </div>\r\n                               
         <div className=\"flex gap-3 text-xs text-slate-400\"
>\r\n                                            <span>早 {(p
lace.visit_count / 1000000).toFixed(1)}M+</span>\r\n         
                               </div>\r\n                    
                </div>\r\n                                </d
iv>\r\n                            ))}\r\n                   
     </div>\r\n\r\n                        {/* Load More Butt
on */}\r\n                        {hasMore && (\r\n          
                  <div className=\"flex justify-center mt-8\"
>\r\n                                <button\r\n             
                       onClick={loadMore}\r\n                
                    disabled={loadingMore}\r\n               
                     className=\"px-8 py-3 bg-yellow-500 hove
r:bg-yellow-400 text-black font-bold rounded-lg transition-al
l disabled:opacity-50 disabled:cursor-not-allowed\"\r\n      
                          >\r\n                              
      {loadingMore ? (\r\n                                   
     <span className=\"flex items-center gap-2\">\r\n        
                                    <svg className=\"animate-
spin h-5 w-5\" viewBox=\"0 0 24 24\">\r\n                    
                            <circle className=\"opacity-25\" 
cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWi
dth=\"4\" fill=\"none\"></circle>\r\n                        
                        <path className=\"opacity-75\" fill=\
"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h
4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938
l3-2.647z\"></path>\r\n                                      
      </svg>\r\n                                            隱
ｭ縺ｿ霎ｼ縺ｿ荳ｭ...\r\n                                        </spa
n>\r\n                                    ) : (\r\n          
                              \"繧ゅ▲縺ｨ隕九ｋ\"\r\n               
                     )}\r\n                                </
button>\r\n                            </div>\r\n            
            )}\r\n                    </>\r\n                
) : (\r\n                    <div className=\"text-center py-
20\">\r\n                        <p className=\"text-slate-40
0\">繧ｭ繝ｼ繝ｯ繝ｼ繝峨ｒ蜈･蜉帙＠縺ｦ讀懃ｴ｢縺励※縺上□縺輔＞</p>\r\n                  
  </div>\r\n                )}\r\n            </div>\r\n     
   </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"fi
lePath":"C:\\Users\\chott\\OneDrive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\GitHu
b\\starrepo\\src\\components\\Header.tsx","messages":[{"ruleI
d":"@typescript-eslint/no-explicit-any","severity":2,"message
":"Unexpected any. Specify a different type.","line":20,"colu
mn":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny",
"endLine":20,"endColumn":41,"suggestions":[{"messageId":"sugg
estUnknown","fix":{"range":[435,438],"text":"unknown"},"desc"
:"Use `unknown` instead, this will force you to explicitly, a
nd safely assert the type is correct."},{"messageId":"suggest
Never","fix":{"range":[435,438],"text":"never"},"desc":"Use `
never` instead, this is useful when instantiating generic typ
e parameters that you don't need to know the type of."}]},{"r
uleId":"@next/next/no-img-element","severity":1,"message":"Us
ing `<img>` could result in slower LCP and higher bandwidth. 
Consider using `<Image />` from `next/image` or a custom imag
e loader to automatically optimize images. This may incur add
itional usage or cost from your provider. See: https://nextjs
.org/docs/messages/no-img-element","line":117,"column":41,"no
deType":"JSXOpeningElement","endLine":121,"endColumn":43}],"s
uppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"war
ningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"s
ource":"\"use client\";\r\n\r\nimport Link from \"next/link\"
;\r\nimport { usePathname } from \"next/navigation\";\r\nimpo
rt { useEffect, useState } from \"react\";\r\nimport { create
Client } from \"@/lib/supabase/client\";\r\nimport {\r\n    H
ome,\r\n    Trophy,\r\n    Gamepad2,\r\n    Search,\r\n    Us
er,\r\n    Menu,\r\n    X,\r\n    Star\r\n} from \"lucide-rea
ct\";\r\n\r\nexport default function Header() {\r\n    const 
pathname = usePathname();\r\n    const [user, setUser] = useS
tate<any>(null);\r\n    const [profile, setProfile] = useStat
e<{ avatar_url: string | null } | null>(null);\r\n    const [
mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n\r\n
    useEffect(() => {\r\n        const supabase = createClien
t();\r\n\r\n        async function checkAuth() {\r\n         
   const { data: { user } } = await supabase.auth.getUser();\
r\n            setUser(user);\r\n\r\n            // 繝ｦ繝ｼ繧ｶ繝ｼ縺
後＞繧句ｴ蜷医・繝励Ο繝輔ぅ繝ｼ繝ｫ繧貞叙蠕予r\n            if (user) {\r\n       
         fetchProfile();\r\n            }\r\n        }\r\n\r\
n        async function fetchProfile() {\r\n            try {
\r\n                const response = await fetch(\"/api/profi
le\");\r\n                if (response.ok) {\r\n             
       const data = await response.json();\r\n               
     setProfile(data);\r\n                }\r\n            } 
catch (error) {\r\n                console.error(\"Failed to 
fetch profile:\", error);\r\n            }\r\n        }\r\n\r
\n        checkAuth();\r\n\r\n        // Subscribe to auth ch
anges\r\n        const { data: { subscription } } = supabase.
auth.onAuthStateChange((_event, session) => {\r\n            
setUser(session?.user ?? null);\r\n            if (session?.u
ser) {\r\n                fetchProfile();\r\n            } el
se {\r\n                setProfile(null);\r\n            }\r\
n        });\r\n\r\n        return () => {\r\n            sub
scription.unsubscribe();\r\n        };\r\n    }, []);\r\n\r\n
    const navLinks = [\r\n        { href: \"/\", label: \"繝帙・
繝\", icon: Home },\r\n        { href: \"/ranking\", label: \
"繝ｩ繝ｳ繧ｭ繝ｳ繧ｰ\", icon: Trophy },\r\n        { href: \"/genre\",
 label: \"繧ｸ繝｣繝ｳ繝ｫ\", icon: Gamepad2 },\r\n        { href: \"
/search\", label: \"讀懃ｴ｢\", icon: Search },\r\n    ];\r\n\r\n
    return (\r\n        <header className=\"bg-[#0B0E14]/80 b
order-b border-slate-800 backdrop-blur-md sticky top-0 z-50\"
>\r\n            <div className=\"max-w-7xl mx-auto px-4 sm:p
x-6\">\r\n                <div className=\"flex items-center 
justify-between h-16\">\r\n                    {/* Logo */}\r
\n                    <Link href=\"/\" className=\"flex items
-center gap-2 group\">\r\n                        <div classN
ame=\"relative flex items-center justify-center w-8 h-8 round
ed-lg bg-yellow-500/10 text-yellow-500\">\r\n                
            <Star className=\"w-5 h-5 fill-yellow-500\" />\r\
n                        </div>\r\n                        <s
pan className=\"text-xl font-bold text-white tracking-tight g
roup-hover:text-yellow-400 transition-colors\">\r\n          
                  STAR REPO\r\n                        </span
>\r\n                    </Link>\r\n\r\n                    {
/* Desktop Navigation */}\r\n                    <nav classNa
me=\"hidden md:flex items-center gap-1\">\r\n                
        {navLinks.map((link) => {\r\n                        
    const isActive = pathname === link.href;\r\n             
               const Icon = link.icon;\r\n                   
         return (\r\n                                <Link\r\
n                                    key={link.href}\r\n     
                               href={link.href}\r\n          
                          className={`\r\n                   
                     flex items-center gap-2 px-4 py-2 rounde
d-lg text-sm font-medium transition-all duration-200\r\n     
                                   ${isActive\r\n            
                                ? \"text-yellow-400 bg-yellow
-500/10\"\r\n                                            : \"
text-slate-400 hover:text-white hover:bg-slate-800\"\r\n     
                                   }\r\n                     
               `}\r\n                                >\r\n   
                                 <Icon className=\"w-4 h-4\" 
/>\r\n                                    <span>{link.label}<
/span>\r\n                                </Link>\r\n        
                    );\r\n                        })}\r\n    
                </nav>\r\n\r\n                    {/* User Me
nu */}\r\n                    <div className=\"hidden md:flex
 items-center gap-4\">\r\n                        {user ? (\r
\n                            <>\r\n                         
       <Link href=\"/mypage\" className=\"group flex items-ce
nter gap-2 px-3 py-1.5 rounded-lg hover:bg-slate-800 transiti
on-all\">\r\n                                    {profile?.av
atar_url ? (\r\n                                        <img\
r\n                                            src={profile.a
vatar_url}\r\n                                            alt
=\"Profile\"\r\n                                            c
lassName=\"w-8 h-8 rounded-full object-cover ring-2 ring-slat
e-700 group-hover:ring-yellow-500/50 transition-all\"\r\n    
                                    />\r\n                   
                 ) : (\r\n                                   
     <div className=\"w-8 h-8 bg-slate-700 rounded-full flex 
items-center justify-center text-slate-300 group-hover:text-w
hite transition-all\">\r\n                                   
         <User className=\"w-4 h-4\" />\r\n                  
                      </div>\r\n                             
       )}\r\n                                    <span classN
ame=\"text-sm font-medium text-slate-300 group-hover:text-whi
te transition-colors\">\r\n                                  
      繝槭う繝壹・繧ｸ\r\n                                    </span>
\r\n                                </Link>\r\n              
              </>\r\n                        ) : (\r\n       
                     <div className=\"flex items-center gap-3
\">\r\n                                <Link\r\n             
                       href=\"/login\"\r\n                   
                 className=\"text-sm font-medium text-slate-4
00 hover:text-white transition-colors\"\r\n                  
              >\r\n                                    繝ｭ繧ｰ繧､
繝ｳ\r\n                                </Link>\r\n            
                    <Link\r\n                                
    href=\"/signup\"\r\n                                    c
lassName=\"px-4 py-2 bg-yellow-500 hover:bg-yellow-400 text-b
lack font-bold text-sm rounded-lg transition-colors\"\r\n    
                            >\r\n                            
        譁ｰ隕冗匳骭ｲ\r\n                                </Link>\r\
n                            </div>\r\n                      
  )}\r\n                    </div>\r\n\r\n                   
 {/* Mobile Menu Button */}\r\n                    <button\r\
n                        onClick={() => setMobileMenuOpen(!mo
bileMenuOpen)}\r\n                        className=\"md:hidd
en p-2 text-slate-400 hover:text-white transition-colors\"\r\
n                        aria-label=\"繝｡繝九Η繝ｼ\"\r\n          
          >\r\n                        {mobileMenuOpen ? (\r\
n                            <X className=\"w-6 h-6\" />\r\n 
                       ) : (\r\n                            <
Menu className=\"w-6 h-6\" />\r\n                        )}\r
\n                    </button>\r\n                </div>\r\n
\r\n                {/* Mobile Navigation */}\r\n            
    {mobileMenuOpen && (\r\n                    <nav classNam
e=\"md:hidden py-4 border-t border-slate-800 animate-fade-in\
">\r\n                        <div className=\"flex flex-col 
gap-1\">\r\n                            {navLinks.map((link) 
=> {\r\n                                const isActive = path
name === link.href;\r\n                                const 
Icon = link.icon;\r\n                                return (
\r\n                                    <Link\r\n            
                            key={link.href}\r\n              
                          href={link.href}\r\n               
                         onClick={() => setMobileMenuOpen(fal
se)}\r\n                                        className={`\
r\n                                            flex items-cen
ter gap-3 px-4 py-3 rounded-lg text-sm font-medium transition
-all\r\n                                            ${isActiv
e\r\n                                                ? \"text
-yellow-400 bg-yellow-500/10\"\r\n                           
                     : \"text-slate-400 hover:text-white hove
r:bg-slate-800\"\r\n                                         
   }\r\n                                        `}\r\n       
                             >\r\n                           
             <Icon className=\"w-5 h-5\" />\r\n              
                          <span>{link.label}</span>\r\n      
                              </Link>\r\n                    
            );\r\n                            })}\r\n        
                    <div className=\"border-t border-slate-80
0 my-2 pt-2\">\r\n                                {user ? (\r
\n                                    <Link\r\n              
                          href=\"/mypage\"\r\n               
                         onClick={() => setMobileMenuOpen(fal
se)}\r\n                                        className=\"f
lex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medi
um text-slate-400 hover:text-white hover:bg-slate-800\"\r\n  
                                  >\r\n                      
                  <User className=\"w-5 h-5\" />\r\n         
                               <span>繝槭う繝壹・繧ｸ</span>\r\n     
                               </Link>\r\n                   
             ) : (\r\n                                    <di
v className=\"px-4 flex flex-col gap-2\">\r\n                
                        <Link\r\n                            
                href=\"/login\"\r\n                          
                  onClick={() => setMobileMenuOpen(false)}\r\
n                                            className=\"bloc
k w-full text-center py-2 text-sm font-medium text-slate-400 
hover:text-white bg-slate-800 rounded-lg\"\r\n               
                         >\r\n                               
             繝ｭ繧ｰ繧､繝ｳ\r\n                                    
    </Link>\r\n                                        <Link\
r\n                                            href=\"/signup
\"\r\n                                            onClick={()
 => setMobileMenuOpen(false)}\r\n                            
                className=\"block w-full text-center py-2 bg-
yellow-500 text-black font-bold text-sm rounded-lg\"\r\n     
                                   >\r\n                     
                       譁ｰ隕冗匳骭ｲ\r\n                           
             </Link>\r\n                                    <
/div>\r\n                                )}\r\n              
              </div>\r\n                        </div>\r\n   
                 </nav>\r\n                )}\r\n            
</div>\r\n        </header>\r\n    );\r\n}\r\n","usedDeprecat
edRules":[]},{"filePath":"C:\\Users\\chott\\OneDrive - 譬ｪ蠑丈ｼ夂
､ｾJarminal\\GitHub\\starrepo\\src\\components\\MyPageTabs.tsx
","messages":[{"ruleId":"@typescript-eslint/no-explicit-any",
"severity":2,"message":"Unexpected any. Specify a different t
ype.","line":14,"column":20,"nodeType":"TSAnyKeyword","messag
eId":"unexpectedAny","endLine":14,"endColumn":23,"suggestions
":[{"messageId":"suggestUnknown","fix":{"range":[329,332],"te
xt":"unknown"},"desc":"Use `unknown` instead, this will force
 you to explicitly, and safely assert the type is correct."},
{"messageId":"suggestNever","fix":{"range":[329,332],"text":"
never"},"desc":"Use `never` instead, this is useful when inst
antiating generic type parameters that you don't need to know
 the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-a
ny","severity":2,"message":"Unexpected any. Specify a differe
nt type.","line":15,"column":21,"nodeType":"TSAnyKeyword","me
ssageId":"unexpectedAny","endLine":15,"endColumn":24,"suggest
ions":[{"messageId":"suggestUnknown","fix":{"range":[357,360]
,"text":"unknown"},"desc":"Use `unknown` instead, this will f
orce you to explicitly, and safely assert the type is correct
."},{"messageId":"suggestNever","fix":{"range":[357,360],"tex
t":"never"},"desc":"Use `never` instead, this is useful when 
instantiating generic type parameters that you don't need to 
know the type of."}]}],"suppressedMessages":[],"errorCount":2
,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"
fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimpor
t { useState } from \"react\";\r\nimport MylistSection from \
"@/components/MylistSection\";\r\nimport ReviewsSection from 
\"@/components/ReviewsSection\";\r\n\r\ntype Tab = \"mylist\"
 | \"reviews\";\r\n\r\nexport default function MyPageTabs({\r
\n    initialMylist,\r\n    initialReviews,\r\n    currentUse
rId\r\n}: {\r\n    initialMylist: any[];\r\n    initialReview
s: any[];\r\n    currentUserId: string;\r\n}) {\r\n    const 
[activeTab, setActiveTab] = useState<Tab>(\"mylist\");\r\n\r\
n    return (\r\n        <div>\r\n            {/* Tab Navigat
ion */}\r\n            <div className=\"flex border-b border-
slate-700 mb-8\">\r\n                <button\r\n             
       onClick={() => setActiveTab(\"mylist\")}\r\n          
          className={`\r\n                        flex-1 pb-4
 text-center font-bold text-lg transition-all relative\r\n   
                     ${activeTab === \"mylist\"\r\n          
                  ? \"text-yellow-400\"\r\n                  
          : \"text-slate-400 hover:text-slate-200\"\r\n      
                  }\r\n                    `}\r\n            
    >\r\n                    <span className=\"flex items-cen
ter justify-center gap-2\">\r\n                        <span>
答</span> 繝槭う繝ｪ繧ｹ繝・r\n                        <span className
=\"bg-slate-800 text-xs px-2 py-0.5 rounded-full text-slate-3
00\">\r\n                            {initialMylist.length}\r
\n                        </span>\r\n                    </sp
an>\r\n                    {activeTab === \"mylist\" && (\r\n
                        <span className=\"absolute bottom-0 l
eft-0 w-full h-0.5 bg-yellow-400 shadow-[0_0_10px_rgba(250,20
4,21,0.5)]\"></span>\r\n                    )}\r\n           
     </button>\r\n                <button\r\n                
    onClick={() => setActiveTab(\"reviews\")}\r\n            
        className={`\r\n                        flex-1 pb-4 t
ext-center font-bold text-lg transition-all relative\r\n     
                   ${activeTab === \"reviews\"\r\n           
                 ? \"text-yellow-400\"\r\n                   
         : \"text-slate-400 hover:text-slate-200\"\r\n       
                 }\r\n                    `}\r\n             
   >\r\n                    <span className=\"flex items-cent
er justify-center gap-2\">\r\n                        <span>笨
搾ｸ・/span> 繝ｬ繝薙Η繝ｼ\r\n                        <span className=
\"bg-slate-800 text-xs px-2 py-0.5 rounded-full text-slate-30
0\">\r\n                            {initialReviews.length}\r
\n                        </span>\r\n                    </sp
an>\r\n                    {activeTab === \"reviews\" && (\r\
n                        <span className=\"absolute bottom-0 
left-0 w-full h-0.5 bg-yellow-400 shadow-[0_0_10px_rgba(250,2
04,21,0.5)]\"></span>\r\n                    )}\r\n          
      </button>\r\n            </div>\r\n\r\n            {/* 
Tab Content */}\r\n            <div className=\"min-h-[400px]
\">\r\n                {activeTab === \"mylist\" ? (\r\n     
               <div className=\"animate-fade-in-up\">\r\n    
                    <MylistSection initialMylist={initialMyli
st} />\r\n                    </div>\r\n                ) : (
\r\n                    <div className=\"animate-fade-in-up\"
>\r\n                        <ReviewsSection initialReviews={
initialReviews} currentUserId={currentUserId} />\r\n         
           </div>\r\n                )}\r\n            </div>
\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":
[]},{"filePath":"C:\\Users\\chott\\OneDrive - 譬ｪ蠑丈ｼ夂､ｾJarmina
l\\GitHub\\starrepo\\src\\components\\MylistButton.tsx","mess
ages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"
message":"React Hook useEffect has a missing dependency: 'che
ckMylistStatus'. Either include it or remove the dependency a
rray.","line":18,"column":8,"nodeType":"ArrayExpression","end
Line":18,"endColumn":17,"suggestions":[{"desc":"Update the de
pendencies array to be: [checkMylistStatus, placeId]","fix":{
"range":[504,513],"text":"[checkMylistStatus, placeId]"}}]}],
"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"w
arningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,
"source":"\"use client\";\r\n\r\nimport { useEffect, useState
 } from \"react\";\r\nimport { showToast } from \"./ToastCont
ainer\";\r\n\r\ntype MylistButtonProps = {\r\n    placeId: nu
mber;\r\n    placeName: string;\r\n};\r\n\r\nexport default f
unction MylistButton({ placeId, placeName }: MylistButtonProp
s) {\r\n    const [isInMylist, setIsInMylist] = useState(fals
e);\r\n    const [loading, setLoading] = useState(true);\r\n 
   const [processing, setProcessing] = useState(false);\r\n\r
\n    useEffect(() => {\r\n        checkMylistStatus();\r\n  
  }, [placeId]);\r\n\r\n    async function checkMylistStatus(
) {\r\n        try {\r\n            const res = await fetch(`
/api/mylist/check?placeId=${placeId}`);\r\n            const 
data = await res.json();\r\n            setIsInMylist(data.is
InMylist);\r\n        } catch (error) {\r\n            consol
e.error(\"Failed to check mylist status:\", error);\r\n      
  } finally {\r\n            setLoading(false);\r\n        }\
r\n    }\r\n\r\n    async function toggleMylist() {\r\n      
  setProcessing(true);\r\n\r\n        try {\r\n            co
nst method = isInMylist ? \"DELETE\" : \"POST\";\r\n         
   const res = await fetch(\"/api/mylist\", {\r\n            
    method,\r\n                headers: { \"Content-Type\": \
"application/json\" },\r\n                body: JSON.stringif
y({ placeId }),\r\n            });\r\n\r\n            const d
ata = await res.json();\r\n\r\n            if (res.ok) {\r\n 
               setIsInMylist(!isInMylist);\r\n               
 showToast(\r\n                    isInMylist\r\n            
            ? `縲・{placeName}縲阪ｒ繝槭う繝ｪ繧ｹ繝医°繧牙炎髯､縺励∪縺励◆`\r\n    
                    : `縲・{placeName}縲阪ｒ繝槭う繝ｪ繧ｹ繝医↓霑ｽ蜉縺励∪縺励◆`,
\r\n                    \"success\"\r\n                );\r\n
            } else {\r\n                showToast(data.error 
|| \"謫堺ｽ懊↓螟ｱ謨励＠縺ｾ縺励◆\", \"error\");\r\n            }\r\n     
   } catch (error) {\r\n            console.error(\"Mylist to
ggle error:\", error);\r\n            showToast(\"繧ｨ繝ｩ繝ｼ縺檎匱逕溘
＠縺ｾ縺励◆\", \"error\");\r\n        } finally {\r\n            s
etProcessing(false);\r\n        }\r\n    }\r\n\r\n    if (loa
ding) {\r\n        return (\r\n            <button\r\n       
         disabled\r\n                className=\"px-6 py-3 bg
-slate-700 text-slate-400 font-semibold rounded-lg cursor-not
-allowed\"\r\n            >\r\n                <span classNam
e=\"flex items-center gap-2\">\r\n                    <span c
lassName=\"text-xl\">答</span>\r\n                    隱ｭ縺ｿ霎ｼ縺
ｿ荳ｭ...\r\n                </span>\r\n            </button>\r\
n        );\r\n    }\r\n\r\n    return (\r\n        <button\r
\n            onClick={toggleMylist}\r\n            disabled=
{processing}\r\n            className={`px-6 py-3 font-semibo
ld rounded-lg transition-all shadow-lg disabled:opacity-50 di
sabled:cursor-not-allowed ${isInMylist\r\n                   
 ? \"bg-gradient-to-r from-yellow-500 to-orange-500 hover:fro
m-yellow-400 hover:to-orange-400 text-black shadow-yellow-500
/30 hover:shadow-yellow-500/50\"\r\n                    : \"b
g-slate-700 hover:bg-slate-600 text-white border border-slate
-600 hover:border-yellow-500/50\"\r\n                }`}\r\n 
       >\r\n            <span className=\"flex items-center g
ap-2\">\r\n                <span className=\"text-xl\">{isInM
ylist ? \"笨貼" : \"答\"}</span>\r\n                {processing
 ? \"蜃ｦ逅・ｸｭ...\" : isInMylist ? \"繝槭う繝ｪ繧ｹ繝育匳骭ｲ貂医∩\" : \"繝槭う繝ｪ
繧ｹ繝医↓霑ｽ蜉\"}\r\n            </span>\r\n        </button>\r\n 
   );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Us
ers\\chott\\OneDrive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\GitHub\\starrepo\\sr
c\\components\\MylistSection.tsx","messages":[{"ruleId":"@typ
escript-eslint/no-unused-vars","severity":2,"message":"'supab
ase' is assigned a value but never used.","line":26,"column":
11,"nodeType":null,"messageId":"unusedVar","endLine":26,"endC
olumn":19},{"ruleId":"@next/next/no-img-element","severity":1
,"message":"Using `<img>` could result in slower LCP and high
er bandwidth. Consider using `<Image />` from `next/image` or
 a custom image loader to automatically optimize images. This
 may incur additional usage or cost from your provider. See: 
https://nextjs.org/docs/messages/no-img-element","line":97,"c
olumn":33,"nodeType":"JSXOpeningElement","endLine":101,"endCo
lumn":35}],"suppressedMessages":[],"errorCount":1,"fatalError
Count":0,"warningCount":1,"fixableErrorCount":0,"fixableWarni
ngCount":0,"source":"\"use client\";\r\n\r\nimport { useState
 } from \"react\";\r\nimport Link from \"next/link\";\r\nimpo
rt { createClient } from \"@/lib/supabase/client\";\r\n\r\nty
pe MylistItem = {\r\n    place_id: number;\r\n    created_at:
 string;\r\n    place?: {\r\n        place_id: number;\r\n   
     name: string;\r\n        thumbnail_url: string;\r\n     
   visit_count: number;\r\n        favorite_count: number;\r\
n    };\r\n};\r\n\r\ntype MylistSectionProps = {\r\n    initi
alMylist: MylistItem[];\r\n};\r\n\r\nexport default function 
MylistSection({ initialMylist }: MylistSectionProps) {\r\n   
 const [mylist, setMylist] = useState<MylistItem[]>(initialMy
list);\r\n    const [deletingId, setDeletingId] = useState<nu
mber | null>(null);\r\n    const supabase = createClient();\r
\n\r\n    const handleDelete = async (placeId: number) => {\r
\n        if (!confirm(\"縺薙・繧ｲ繝ｼ繝繧偵・繧､繝ｪ繧ｹ繝医°繧牙炎髯､縺励∪縺吶°・歃")
) {\r\n            return;\r\n        }\r\n\r\n        setDel
etingId(placeId);\r\n\r\n        try {\r\n            const r
esponse = await fetch(\"/api/mylist\", {\r\n                m
ethod: \"DELETE\",\r\n                headers: { \"Content-Ty
pe\": \"application/json\" },\r\n                body: JSON.s
tringify({ placeId }),\r\n            });\r\n\r\n            
if (!response.ok) {\r\n                throw new Error(\"蜑企勁縺
ｫ螟ｱ謨励＠縺ｾ縺励◆\");\r\n            }\r\n\r\n            // 讌ｽ隕ｳ逧Ф
I譖ｴ譁ｰ\r\n            setMylist(mylist.filter((item) => item.p
lace_id !== placeId));\r\n        } catch (error) {\r\n      
      console.error(\"Failed to delete from mylist:\", error)
;\r\n            alert(\"繝槭う繝ｪ繧ｹ繝医°繧峨・蜑企勁縺ｫ螟ｱ謨励＠縺ｾ縺励◆\");\r\n
        } finally {\r\n            setDeletingId(null);\r\n  
      }\r\n    };\r\n\r\n    if (mylist.length === 0) {\r\n  
      return (\r\n            <div className=\"text-center py
-12 bg-slate-800/30 rounded-xl border border-dashed border-sl
ate-700\">\r\n                <p className=\"text-slate-400 m
b-4\">縺ｾ縺繝槭う繝ｪ繧ｹ繝医↓霑ｽ蜉縺励※縺・∪縺帙ｓ</p>\r\n                <Lin
k\r\n                    href=\"/\"\r\n                    cl
assName=\"inline-block bg-yellow-500 hover:bg-yellow-400 text
-black font-bold px-6 py-3 rounded-lg transition-colors\"\r\n
                >\r\n                    繧ｲ繝ｼ繝繧呈爾縺兔r\n      
          </Link>\r\n            </div>\r\n        );\r\n    
}\r\n\r\n    return (\r\n        <div className=\"grid grid-c
ols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\r
\n            {mylist.map((item) => (\r\n                <div
\r\n                    key={item.place_id}\r\n              
      className=\"group bg-slate-800 rounded-xl overflow-hidd
en border border-slate-700 hover:border-yellow-500/50 hover:s
hadow-lg transition-all relative\"\r\n                >\r\n  
                  {/* 蜑企勁繝懊ち繝ｳ */}\r\n                    <bu
tton\r\n                        onClick={(e) => {\r\n        
                    e.preventDefault();\r\n                  
          handleDelete(item.place_id);\r\n                   
     }}\r\n                        disabled={deletingId === i
tem.place_id}\r\n                        className=\"absolute
 top-2 right-2 z-10 w-8 h-8 bg-red-500/90 hover:bg-red-600 te
xt-white rounded-full flex items-center justify-center transi
tion-colors disabled:opacity-50 disabled:cursor-not-allowed\"
\r\n                        title=\"繝槭う繝ｪ繧ｹ繝医°繧牙炎髯､\"\r\n    
                >\r\n                        {deletingId === 
item.place_id ? (\r\n                            <span classN
ame=\"text-xs\">...</span>\r\n                        ) : (\r
\n                            <span className=\"text-lg leadi
ng-none\">ﾃ・/span>\r\n                        )}\r\n         
           </button>\r\n\r\n                    <Link href={`
/place/${item.place_id}`} className=\"block\">\r\n           
             <div className=\"relative h-40 bg-slate-700\">\r
\n                            {item.place?.thumbnail_url ? (\
r\n                                <img\r\n                  
                  src={item.place.thumbnail_url}\r\n         
                           alt={item.place.name}\r\n         
                           className=\"w-full h-full object-c
over group-hover:scale-110 transition-transform duration-300\
"\r\n                                />\r\n                  
          ) : (\r\n                                <div class
Name=\"w-full h-full flex items-center justify-center text-sl
ate-500\">\r\n                                    逕ｻ蜒上↑縺予r\n 
                               </div>\r\n                    
        )}\r\n                            <div className=\"ab
solute inset-0 bg-gradient-to-t from-slate-900/90 to-transpar
ent\"></div>\r\n                            <div className=\"
absolute bottom-3 left-3 right-3\">\r\n                      
          <h3 className=\"text-sm font-bold text-white trunca
te group-hover:text-yellow-400 transition-colors\">\r\n      
                              {item.place?.name || `Place #${
item.place_id}`}\r\n                                </h3>\r\n
                            </div>\r\n                       
 </div>\r\n                        <div className=\"p-3 flex 
items-center justify-between text-xs text-slate-400\">\r\n   
                         <span>\r\n                          
      早 {((item.place?.visit_count || 0) / 1000000).toFixed(
1)}M+\r\n                            </span>\r\n             
               <span>\r\n                                笙･ {
((item.place?.favorite_count || 0) / 1000).toFixed(1)}K+\r\n 
                           </span>\r\n                       
 </div>\r\n                    </Link>\r\n                </d
iv>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n",
"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\chott\\OneD
rive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\GitHub\\starrepo\\src\\components\\P
laceList.tsx","messages":[{"ruleId":"@typescript-eslint/no-un
used-vars","severity":2,"message":"'Users' is defined but nev
er used.","line":6,"column":22,"nodeType":null,"messageId":"u
nusedVar","endLine":6,"endColumn":27},{"ruleId":"@next/next/n
o-img-element","severity":1,"message":"Using `<img>` could re
sult in slower LCP and higher bandwidth. Consider using `<Ima
ge />` from `next/image` or a custom image loader to automati
cally optimize images. This may incur additional usage or cos
t from your provider. See: https://nextjs.org/docs/messages/n
o-img-element","line":126,"column":33,"nodeType":"JSXOpeningE
lement","endLine":131,"endColumn":35}],"suppressedMessages":[
],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixabl
eErrorCount":0,"fixableWarningCount":0,"source":"\"use client
\";\r\n\r\nimport { useEffect, useState, useRef, useCallback 
} from \"react\";\r\nimport { createClient } from \"@/lib/sup
abase/client\";\r\nimport Link from \"next/link\";\r\nimport 
{ Star, User, Users, Activity, Eye, Heart } from \"lucide-rea
ct\";\r\n\r\ntype Place = {\r\n    place_id: string;\r\n    n
ame: string;\r\n    description: string;\r\n    thumbnail_url
: string;\r\n    visit_count: number;\r\n    favorite_count: 
number;\r\n    average_rating: number | null;\r\n    created_
at: string;\r\n    updated_at: string;\r\n    genre: string |
 null;\r\n    creator_name: string;\r\n};\r\n\r\nexport defau
lt function PlaceList() {\r\n    const [places, setPlaces] = 
useState<Place[]>([]);\r\n    const [page, setPage] = useStat
e(1);\r\n    const [hasMore, setHasMore] = useState(true);\r\
n    const observer = useRef<IntersectionObserver | null>(nul
l);\r\n    const [loading, setLoading] = useState(false); // 
To prevent double fetch\r\n\r\n    // Infinite Scroll Observe
r\r\n    const lastPlaceElementRef = useCallback(\r\n        
(node: HTMLDivElement) => {\r\n            if (loading) retur
n;\r\n            if (observer.current) observer.current.disc
onnect();\r\n            observer.current = new IntersectionO
bserver((entries) => {\r\n                if (entries[0].isIn
tersecting && hasMore) {\r\n                    setPage((prev
Page) => prevPage + 1);\r\n                }\r\n            }
);\r\n            if (node) observer.current.observe(node);\r
\n        },\r\n        [loading, hasMore]\r\n    );\r\n\r\n 
   useEffect(() => {\r\n        const fetchPlaces = async () 
=> {\r\n            setLoading(true);\r\n            const su
pabase = createClient();\r\n            const start = (page -
 1) * 12;\r\n            const end = start + 11;\r\n\r\n     
       const { data, error } = await supabase\r\n            
    .from(\"places\")\r\n                .select(\"*\")\r\n  
              .order(\"visit_count\", { ascending: false }) /
/ 莠ｺ豌鈴・r\n                .range(start, end);\r\n\r\n       
     if (error) {\r\n                console.error(\"Error fe
tching places:\", error);\r\n            } else if (data && d
ata.length > 0) {\r\n                // Fetch average ratings
 from reviews\r\n                const placeIds = data.map(p 
=> p.place_id);\r\n                const { data: reviewStats 
} = await supabase\r\n                    .from(\"reviews\")\
r\n                    .select(\"place_id, rating\")\r\n     
               .in(\"place_id\", placeIds);\r\n\r\n          
      // Calculate average ratings\r\n                const r
atingsByPlace: Record<number, number[]> = {};\r\n            
    reviewStats?.forEach(r => {\r\n                    if (!r
atingsByPlace[r.place_id]) {\r\n                        ratin
gsByPlace[r.place_id] = [];\r\n                    }\r\n     
               ratingsByPlace[r.place_id].push(r.rating);\r\n
                });\r\n\r\n                const placesWithRa
tings = data.map(p => ({\r\n                    ...p,\r\n    
                average_rating: ratingsByPlace[p.place_id]\r\
n                        ? ratingsByPlace[p.place_id].reduce(
(a, b) => a + b, 0) / ratingsByPlace[p.place_id].length\r\n  
                      : null,\r\n                    review_c
ount: ratingsByPlace[p.place_id]?.length || 0\r\n            
    }));\r\n\r\n                setPlaces((prevPlaces) => {\r
\n                    // 驥崎､・賜髯､ (蠢ｵ縺ｮ縺溘ａ)\r\n               
     const newPlaces = placesWithRatings.filter(\r\n         
               (p) => !prevPlaces.some((existing) => existing
.place_id === p.place_id)\r\n                    );\r\n      
              return [...prevPlaces, ...newPlaces];\r\n      
          });\r\n                if (data.length < 12) {\r\n 
                   setHasMore(false);\r\n                }\r\
n            }\r\n            setLoading(false);\r\n        }
;\r\n\r\n        fetchPlaces();\r\n    }, [page]);\r\n\r\n   
 // Format numbers like 31M+, 500k, etc.\r\n    const formatN
umber = (num: number) => {\r\n        if (num >= 1000000) {\r
\n            return (num / 1000000).toFixed(1) + \"M\";\r\n 
       }\r\n        if (num >= 1000) {\r\n            return 
(num / 1000).toFixed(1) + \"k\";\r\n        }\r\n        retu
rn num.toString();\r\n    };\r\n\r\n    return (\r\n        <
div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-
3 xl:grid-cols-4 gap-6 pb-12\">\r\n            {places.map((p
lace, index) => {\r\n                const isLast = places.le
ngth === index + 1;\r\n                return (\r\n          
          <Link\r\n                        href={`/place/${pl
ace.place_id}`}\r\n                        key={place.place_i
d}\r\n                        ref={isLast ? lastPlaceElementR
ef : null}\r\n                        className=\"group relat
ive bg-[#1c222c] rounded-xl overflow-hidden shadow-lg hover:s
hadow-2xl transition-all duration-300 hover:-translate-y-1 bl
ock\"\r\n                    >\r\n                        {/*
 Thumbnail Container */}\r\n                        <div clas
sName=\"relative aspect-video overflow-hidden\">\r\n         
                   {place.thumbnail_url ? (\r\n              
                  <img\r\n                                   
 src={place.thumbnail_url}\r\n                               
     alt={place.name}\r\n                                    
className=\"w-full h-full object-cover transition-transform d
uration-500 group-hover:scale-105\"\r\n                      
              loading=\"lazy\"\r\n                           
     />\r\n                            ) : (\r\n             
                   <div className=\"w-full h-full bg-slate-70
0 flex items-center justify-center text-4xl\">\r\n           
                         <Activity className=\"w-12 h-12 text
-slate-500 opacity-50\" />\r\n                               
 </div>\r\n                            )}\r\n\r\n            
                {/* Genre Badge */}\r\n                      
      {place.genre && (\r\n                                <d
iv className=\"absolute top-2 left-2 px-3 py-1 bg-gradient-to
-r from-blue-600 to-purple-600 text-white text-xs font-bold r
ounded-full shadow-lg\">\r\n                                 
   {place.genre}\r\n                                </div>\r\
n                            )}\r\n\r\n                      
      {/* Overlay Gradient on Hover */}\r\n                  
          <div className=\"absolute inset-0 bg-black/40 opaci
ty-0 group-hover:opacity-100 transition-opacity duration-300\
"></div>\r\n                        </div>\r\n\r\n           
             {/* Content */}\r\n                        <div 
className=\"p-4\">\r\n                            <h3 classNa
me=\"text-white font-bold text-lg mb-1 truncate group-hover:t
ext-yellow-400 transition-colors\">\r\n                      
          {place.name}\r\n                            </h3>\r
\n                            <p className=\"text-slate-400 t
ext-xs mb-3 flex items-center gap-1 truncate\">\r\n          
                      <User className=\"w-3 h-3\" />\r\n     
                           {place.creator_name}\r\n          
                  </p>\r\n\r\n                            <di
v className=\"flex items-center justify-between pt-2 border-t
 border-slate-700/50\">\r\n                                <d
iv className=\"flex items-center gap-1 text-yellow-400 font-b
old text-sm\">\r\n                                    <Star c
lassName=\"w-3.5 h-3.5 fill-yellow-400\" />\r\n              
                      <span>{(place.average_rating || 0).toFi
xed(1)}</span>\r\n                                </div>\r\n 
                               <div className=\"flex items-ce
nter gap-3 text-xs font-medium text-slate-400\">\r\n         
                           <span className=\"flex items-cente
r gap-1\" title=\"邱剰ｨｪ蝠乗焚\">\r\n                             
           <Eye className=\"w-3.5 h-3.5\" />\r\n             
                           {formatNumber(place.visit_count)}\
r\n                                    </span>\r\n           
                         <span className=\"flex items-center 
gap-1\" title=\"縺頑ｰ励↓蜈･繧頑焚\">\r\n                            
            <Heart className=\"w-3.5 h-3.5\" />\r\n          
                              {formatNumber(place.favorite_co
unt)}\r\n                                    </span>\r\n     
                           </div>\r\n                        
    </div>\r\n                        </div>\r\n             
       </Link>\r\n                );\r\n            })}\r\n\r
\n            {/* Loading Skeletons */}\r\n            {hasMo
re && (\r\n                <>\r\n                    {[...Arr
ay(4)].map((_, i) => (\r\n                        <div key={`
skeleton-${i}`} className=\"bg-[#1c222c] rounded-xl overflow-
hidden shadow-lg animate-pulse\">\r\n                        
    <div className=\"aspect-video bg-slate-700\"></div>\r\n  
                          <div className=\"p-4 space-y-3\">\r
\n                                <div className=\"h-6 bg-sla
te-700 rounded w-3/4\"></div>\r\n                            
    <div className=\"h-4 bg-slate-700 rounded w-1/2\"></div>\
r\n                                <div className=\"pt-2 bord
er-t border-slate-700/50 flex justify-between\">\r\n         
                           <div className=\"h-5 w-10 bg-slate
-700 rounded\"></div>\r\n                                    
<div className=\"h-5 w-20 bg-slate-700 rounded\"></div>\r\n  
                              </div>\r\n                     
       </div>\r\n                        </div>\r\n          
          ))}\r\n                </>\r\n            )}\r\n   
     </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"f
ilePath":"C:\\Users\\chott\\OneDrive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\GitH
ub\\starrepo\\src\\components\\ProfileEditModal.tsx","message
s":[{"ruleId":"@next/next/no-img-element","severity":1,"messa
ge":"Using `<img>` could result in slower LCP and higher band
width. Consider using `<Image />` from `next/image` or a cust
om image loader to automatically optimize images. This may in
cur additional usage or cost from your provider. See: https:/
/nextjs.org/docs/messages/no-img-element","line":115,"column"
:33,"nodeType":"JSXOpeningElement","endLine":119,"endColumn":
35}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount"
:0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCoun
t":0,"source":"\"use client\";\r\n\r\nimport { useState } fro
m \"react\";\r\n\r\ntype ProfileEditModalProps = {\r\n    ini
tialProfile: {\r\n        username: string | null;\r\n       
 avatar_url: string | null;\r\n        bio: string | null;\r\
n    };\r\n    onClose: () => void;\r\n    onSuccess: () => v
oid;\r\n};\r\n\r\nexport default function ProfileEditModal({\
r\n    initialProfile,\r\n    onClose,\r\n    onSuccess,\r\n}
: ProfileEditModalProps) {\r\n    const [username, setUsernam
e] = useState(initialProfile.username || \"\");\r\n    const 
[avatarUrl, setAvatarUrl] = useState(initialProfile.avatar_ur
l || \"\");\r\n    const [bio, setBio] = useState(initialProf
ile.bio || \"\");\r\n    const [loading, setLoading] = useSta
te(false);\r\n    const [uploading, setUploading] = useState(
false);\r\n    const [error, setError] = useState(\"\");\r\n\
r\n    const handleFileUpload = async (e: React.ChangeEvent<H
TMLInputElement>) => {\r\n        const file = e.target.files
?.[0];\r\n        if (!file) return;\r\n\r\n        // 繝輔ぃ繧､繝
ｫ繧ｵ繧､繧ｺ繝√ぉ繝・け・・MB・噂r\n        if (file.size > 2 * 1024 * 1024
) {\r\n            setError(\"繝輔ぃ繧､繝ｫ繧ｵ繧､繧ｺ縺ｯ2MB莉･荳九↓縺励※縺上□縺輔
＞\");\r\n            return;\r\n        }\r\n\r\n        // 繝
輔ぃ繧､繝ｫ蠖｢蠑上メ繧ｧ繝・け\r\n        const allowedTypes = [\"image/jpe
g\", \"image/png\", \"image/webp\"];\r\n        if (!allowedT
ypes.includes(file.type)) {\r\n            setError(\"JPEG縲￣N
G縲仝ebP蠖｢蠑上・逕ｻ蜒上・縺ｿ繧｢繝・・繝ｭ繝ｼ繝牙庄閭ｽ縺ｧ縺兔");\r\n            return
;\r\n        }\r\n\r\n        setUploading(true);\r\n        
setError(\"\");\r\n\r\n        try {\r\n            const for
mData = new FormData();\r\n            formData.append(\"file
\", file);\r\n\r\n            const response = await fetch(\"
/api/profile/avatar\", {\r\n                method: \"POST\",
\r\n                body: formData,\r\n            });\r\n\r\
n            if (!response.ok) {\r\n                const dat
a = await response.json();\r\n                throw new Error
(data.error || \"逕ｻ蜒上・繧｢繝・・繝ｭ繝ｼ繝峨↓螟ｱ謨励＠縺ｾ縺励◆\");\r\n         
   }\r\n\r\n            const data = await response.json();\r
\n            setAvatarUrl(data.url);\r\n        } catch (err
) {\r\n            setError(err instanceof Error ? err.messag
e : \"莠域悄縺帙〓繧ｨ繝ｩ繝ｼ縺檎匱逕溘＠縺ｾ縺励◆\");\r\n        } finally {\r\n 
           setUploading(false);\r\n        }\r\n    };\r\n\r\
n    const handleSubmit = async (e: React.FormEvent) => {\r\n
        e.preventDefault();\r\n        setLoading(true);\r\n 
       setError(\"\");\r\n\r\n        try {\r\n            co
nst response = await fetch(\"/api/profile\", {\r\n           
     method: \"PUT\",\r\n                headers: { \"Content
-Type\": \"application/json\" },\r\n                body: JSO
N.stringify({\r\n                    username: username.trim(
) || null,\r\n                    avatar_url: avatarUrl.trim(
) || null,\r\n                    bio: bio.trim() || null,\r\
n                }),\r\n            });\r\n\r\n            if
 (!response.ok) {\r\n                const data = await respo
nse.json();\r\n                throw new Error(data.error || 
\"繝励Ο繝輔ぅ繝ｼ繝ｫ縺ｮ譖ｴ譁ｰ縺ｫ螟ｱ謨励＠縺ｾ縺励◆\");\r\n            }\r\n\r\n  
          onSuccess();\r\n        } catch (err) {\r\n        
    setError(err instanceof Error ? err.message : \"莠域悄縺帙〓繧ｨ繝
ｩ繝ｼ縺檎匱逕溘＠縺ｾ縺励◆\");\r\n        } finally {\r\n            setL
oading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n
        <div className=\"fixed inset-0 bg-black/50 flex items
-center justify-center p-4 z-50\" onClick={onClose}>\r\n     
       <div\r\n                className=\"bg-slate-800 round
ed-xl p-6 max-w-md w-full border border-slate-700 max-h-[90vh
] overflow-y-auto\"\r\n                onClick={(e) => e.stop
Propagation()}\r\n            >\r\n                <h2 classN
ame=\"text-2xl font-bold mb-6 text-white\">繝励Ο繝輔ぅ繝ｼ繝ｫ繧堤ｷｨ髮・/h
2>\r\n\r\n                <form onSubmit={handleSubmit} class
Name=\"space-y-4\">\r\n                    {/* 繝励Ο繝輔ぅ繝ｼ繝ｫ逕ｻ蜒・
*/}\r\n                    <div>\r\n                        <
label className=\"block text-sm font-medium text-slate-400 mb
-2\">\r\n                            繝励Ο繝輔ぅ繝ｼ繝ｫ逕ｻ蜒十r\n       
                 </label>\r\n                        {avatarU
rl && (\r\n                            <div className=\"mb-3\
">\r\n                                <img\r\n               
                     src={avatarUrl}\r\n                     
               alt=\"繝励Ο繝輔ぅ繝ｼ繝ｫ逕ｻ蜒十"\r\n                     
               className=\"w-24 h-24 rounded-full object-cove
r border-2 border-yellow-500\"\r\n                           
     />\r\n                            </div>\r\n            
            )}\r\n                        <input\r\n         
                   type=\"file\"\r\n                         
   accept=\"image/jpeg,image/png,image/webp\"\r\n            
                onChange={handleFileUpload}\r\n              
              disabled={uploading}\r\n                       
     className=\"w-full bg-slate-900 border border-slate-700 
rounded-lg p-2 text-white text-sm file:mr-4 file:py-2 file:px
-4 file:rounded-lg file:border-0 file:text-sm file:font-semib
old file:bg-yellow-500 file:text-black hover:file:bg-yellow-4
00 file:cursor-pointer disabled:opacity-50\"\r\n             
           />\r\n                        {uploading && (\r\n 
                           <p className=\"text-sm text-yellow
-400 mt-2\">\r\n                                繧｢繝・・繝ｭ繝ｼ繝我ｸｭ
...\r\n                            </p>\r\n                  
      )}\r\n                        <p className=\"text-xs te
xt-slate-500 mt-1\">\r\n                            JPEG縲￣NG縲
仝ebP蠖｢蠑上・MB莉･荳欺r\n                        </p>\r\n          
          </div>\r\n\r\n                    {/* 繝ｦ繝ｼ繧ｶ繝ｼ蜷・*/}
\r\n                    <div>\r\n                        <lab
el className=\"block text-sm font-medium text-slate-400 mb-2\
">\r\n                            繝ｦ繝ｼ繧ｶ繝ｼ蜷構r\n              
          </label>\r\n                        <input\r\n     
                       type=\"text\"\r\n                     
       value={username}\r\n                            onChan
ge={(e) => setUsername(e.target.value)}\r\n                  
          maxLength={50}\r\n                            class
Name=\"w-full bg-slate-900 border border-slate-700 rounded-lg
 p-3 text-white focus:ring-2 focus:ring-yellow-500 outline-no
ne\"\r\n                            placeholder=\"繝ｦ繝ｼ繧ｶ繝ｼ蜷阪ｒ
蜈･蜉・..\"\r\n                        />\r\n                   
     <p className=\"text-xs text-slate-500 mt-1\">\r\n       
                     {username.length}/50譁・ｭ予r\n             
           </p>\r\n                    </div>\r\n\r\n        
            {/* 閾ｪ蟾ｱ邏ｹ莉・*/}\r\n                    <div>\r\n 
                       <label className=\"block text-sm font-
medium text-slate-400 mb-2\">\r\n                            
閾ｪ蟾ｱ邏ｹ莉欺r\n                        </label>\r\n              
          <textarea\r\n                            value={bio
}\r\n                            onChange={(e) => setBio(e.ta
rget.value)}\r\n                            maxLength={500}\r
\n                            className=\"w-full bg-slate-900
 border border-slate-700 rounded-lg p-3 text-white focus:ring
-2 focus:ring-yellow-500 outline-none min-h-[100px]\"\r\n    
                        placeholder=\"閾ｪ蟾ｱ邏ｹ莉九ｒ蜈･蜉・..\"\r\n  
                      />\r\n                        <p classN
ame=\"text-xs text-slate-500 mt-1\">\r\n                     
       {bio.length}/500譁・ｭ予r\n                        </p>\r\
n                    </div>\r\n\r\n                    {/* 繧ｨ
繝ｩ繝ｼ繝｡繝・そ繝ｼ繧ｸ */}\r\n                    {error && (\r\n     
                   <div className=\"bg-red-500/10 border bord
er-red-500 text-red-500 p-3 rounded-lg text-sm\">\r\n        
                    {error}\r\n                        </div>
\r\n                    )}\r\n\r\n                    {/* 繝懊ち
繝ｳ */}\r\n                    <div className=\"flex gap-3 pt-
2\">\r\n                        <button\r\n                  
          type=\"button\"\r\n                            onCl
ick={onClose}\r\n                            disabled={loadin
g || uploading}\r\n                            className=\"fl
ex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rou
nded-lg transition-colors disabled:opacity-50\"\r\n          
              >\r\n                            繧ｭ繝｣繝ｳ繧ｻ繝ｫ\r\n
                        </button>\r\n                        
<button\r\n                            type=\"submit\"\r\n   
                         disabled={loading || uploading}\r\n 
                           className=\"flex-1 px-4 py-2 bg-ye
llow-500 hover:bg-yellow-400 text-black font-bold rounded-lg 
transition-colors disabled:opacity-50 disabled:cursor-not-all
owed\"\r\n                        >\r\n                      
      {loading ? \"譖ｴ譁ｰ荳ｭ...\" : \"譖ｴ譁ｰ\"}\r\n               
         </button>\r\n                    </div>\r\n         
       </form>\r\n            </div>\r\n        </div>\r\n   
 );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\User
s\\chott\\OneDrive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\GitHub\\starrepo\\src\
\components\\ProfileHeader.tsx","messages":[{"ruleId":"@next/
next/no-img-element","severity":1,"message":"Using `<img>` co
uld result in slower LCP and higher bandwidth. Consider using
 `<Image />` from `next/image` or a custom image loader to au
tomatically optimize images. This may incur additional usage 
or cost from your provider. See: https://nextjs.org/docs/mess
ages/no-img-element","line":55,"column":37,"nodeType":"JSXOpe
ningElement","endLine":59,"endColumn":39}],"suppressedMessage
s":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fi
xableErrorCount":0,"fixableWarningCount":0,"source":"\"use cl
ient\";\r\n\r\nimport { useState, useEffect } from \"react\";
\r\nimport ProfileEditModal from \"./ProfileEditModal\";\r\ni
mport LogoutButton from \"./LogoutButton\";\r\nimport { Edit2
, Shield } from \"lucide-react\";\r\n\r\ntype ProfileHeaderPr
ops = {\r\n    userEmail: string;\r\n    isAdmin?: boolean;\r
\n};\r\n\r\nexport default function ProfileHeader({ userEmail
, isAdmin }: ProfileHeaderProps) {\r\n    const [profile, set
Profile] = useState<{\r\n        username: string | null;\r\n
        avatar_url: string | null;\r\n        bio: string | n
ull;\r\n    } | null>(null);\r\n    const [showEditModal, set
ShowEditModal] = useState(false);\r\n\r\n    useEffect(() => 
{\r\n        fetchProfile();\r\n    }, []);\r\n\r\n    const 
fetchProfile = async () => {\r\n        try {\r\n            
const response = await fetch(\"/api/profile\");\r\n          
  if (response.ok) {\r\n                const data = await re
sponse.json();\r\n                setProfile(data);\r\n      
      }\r\n        } catch (error) {\r\n            console.e
rror(\"Failed to fetch profile:\", error);\r\n        }\r\n  
  };\r\n\r\n    const handleEditSuccess = () => {\r\n        
setShowEditModal(false);\r\n        fetchProfile();\r\n      
  window.location.reload();\r\n    };\r\n\r\n    const displa
yName = profile?.username || userEmail;\r\n    const avatarUr
l = profile?.avatar_url;\r\n    const bio = profile?.bio;\r\n
\r\n    return (\r\n        <>\r\n            <div className=
\"bg-[#151921] border-b border-slate-800\">\r\n              
  <div className=\"max-w-7xl mx-auto px-6 py-8\">\r\n        
            <div className=\"flex flex-col md:flex-row md:ite
ms-center justify-between gap-6\">\r\n                       
 <div className=\"flex items-center gap-6\">\r\n             
               <div className=\"relative shrink-0\">\r\n     
                           {avatarUrl ? (\r\n                
                    <img\r\n                                 
       src={avatarUrl}\r\n                                   
     alt={displayName}\r\n                                   
     className=\"w-20 h-20 rounded-full object-cover border-2
 border-slate-700 shadow-xl\"\r\n                            
        />\r\n                                ) : (\r\n      
                              <div className=\"w-20 h-20 bg-g
radient-to-br from-slate-700 to-slate-600 rounded-full flex i
tems-center justify-center text-white font-bold text-3xl shad
ow-xl border border-slate-600\">\r\n                         
               {userEmail[0].toUpperCase()}\r\n              
                      </div>\r\n                             
   )}\r\n                            </div>\r\n              
              <div>\r\n                                <h1 cl
assName=\"text-3xl font-bold text-white mb-1\">{displayName}<
/h1>\r\n                                <p className=\"text-s
late-500 text-sm mb-2\">{userEmail}</p>\r\n                  
              {bio && <p className=\"text-slate-300 max-w-2xl
 leading-relaxed\">{bio}</p>}\r\n                            
</div>\r\n                        </div>\r\n                 
       <div className=\"flex gap-3\">\r\n                    
        {isAdmin && (\r\n                                <a\r
\n                                    href=\"/admin\"\r\n    
                                className=\"flex items-center
 gap-2 px-4 py-2 bg-yellow-500/20 hover:bg-yellow-500/30 text
-yellow-400 font-medium rounded-lg transition-colors border b
order-yellow-500/50\"\r\n                                >\r\
n                                    <Shield className=\"w-4 
h-4\" />\r\n                                    邂｡逅・・r\n    
                            </a>\r\n                         
   )}\r\n                            <button\r\n             
                   onClick={() => setShowEditModal(true)}\r\n
                                className=\"flex items-center
 gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-2
00 font-medium rounded-lg transition-colors border border-sla
te-700\"\r\n                            >\r\n                
                <Edit2 className=\"w-4 h-4\" />\r\n          
                      邱ｨ髮・r\n                            </bu
tton>\r\n                            <LogoutButton />\r\n    
                    </div>\r\n                    </div>\r\n 
               </div>\r\n            </div>\r\n\r\n          
  {showEditModal && profile && (\r\n                <ProfileE
ditModal\r\n                    initialProfile={profile}\r\n 
                   onClose={() => setShowEditModal(false)}\r\
n                    onSuccess={handleEditSuccess}\r\n       
         />\r\n            )}\r\n        </>\r\n    );\r\n}\r
\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\chott\\
OneDrive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\GitHub\\starrepo\\src\\component
s\\ReviewForm.tsx","messages":[{"ruleId":"@typescript-eslint/
no-explicit-any","severity":2,"message":"Unexpected any. Spec
ify a different type.","line":13,"column":11,"nodeType":"TSAn
yKeyword","messageId":"unexpectedAny","endLine":13,"endColumn
":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"ran
ge":[252,255],"text":"unknown"},"desc":"Use `unknown` instead
, this will force you to explicitly, and safely assert the ty
pe is correct."},{"messageId":"suggestNever","fix":{"range":[
252,255],"text":"never"},"desc":"Use `never` instead, this is
 useful when instantiating generic type parameters that you d
on't need to know the type of."}]},{"ruleId":"@typescript-esl
int/no-explicit-any","severity":2,"message":"Unexpected any. 
Specify a different type.","line":14,"column":22,"nodeType":"
TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endCo
lumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{
"range":[279,282],"text":"unknown"},"desc":"Use `unknown` ins
tead, this will force you to explicitly, and safely assert th
e type is correct."},{"messageId":"suggestNever","fix":{"rang
e":[279,282],"text":"never"},"desc":"Use `never` instead, thi
s is useful when instantiating generic type parameters that y
ou don't need to know the type of."}]},{"ruleId":"@typescript
-eslint/no-unused-vars","severity":2,"message":"'err' is defi
ned but never used.","line":87,"column":18,"nodeType":null,"m
essageId":"unusedVar","endLine":87,"endColumn":21}],"suppress
edMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCou
nt":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":
"\"use client\";\r\n\r\nimport { useState } from \"react\";\r
\nimport { useRouter } from \"next/navigation\";\r\nimport Li
nk from \"next/link\";\r\n\r\nexport default function ReviewF
orm({\r\n    placeId,\r\n    user,\r\n    existingReview\r\n}
: {\r\n    placeId: number;\r\n    user: any;\r\n    existing
Review?: any;\r\n}) {\r\n    const [rating, setRating] = useS
tate(5);\r\n    const [comment, setComment] = useState(\"\");
\r\n    const [submitting, setSubmitting] = useState(false);\
r\n    const [error, setError] = useState(\"\");\r\n    const
 router = useRouter();\r\n\r\n    if (!user) {\r\n        ret
urn (\r\n            <div className=\"bg-slate-800/50 border 
border-dashed border-slate-700 p-6 rounded-xl text-center\">\
r\n                <p className=\"text-slate-400 mb-4\">Login
 to write a review.</p>\r\n                <button\r\n       
             onClick={() => router.push(\"/login\")}\r\n     
               className=\"bg-slate-700 hover:bg-slate-600 te
xt-white px-6 py-2 rounded-lg transition-colors\"\r\n        
        >\r\n                    繝ｭ繧ｰ繧､繝ｳ\r\n                
</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\
n    // 譌｢蟄倥・繝ｬ繝薙Η繝ｼ縺後≠繧句ｴ蜷・r\n    if (existingReview) {\r\n
        return (\r\n            <div className=\"bg-slate-800
 p-6 rounded-xl border border-slate-700\">\r\n               
 <h3 className=\"text-xl font-bold text-white mb-4\">縺ゅ↑縺溘・繝ｬ
繝薙Η繝ｼ</h3>\r\n                <div className=\"mb-4\">\r\n   
                 <div className=\"flex items-center gap-2 mb-
3\">\r\n                        <div className=\"flex text-ye
llow-400 text-lg\">\r\n                            {\"笘・".rep
eat(existingReview.rating)}\r\n                            <s
pan className=\"text-slate-600\">{\"笘・".repeat(5 - existingRe
view.rating)}</span>\r\n                        </div>\r\n   
                     <small className=\"text-slate-500\">\r\n
                            {new Date(existingReview.created_
at).toLocaleDateString()}\r\n                        </small>
\r\n                    </div>\r\n                    <p clas
sName=\"text-slate-300 leading-relaxed mb-4\">{existingReview
.comment}</p>\r\n                </div>\r\n                <L
ink\r\n                    href=\"/mypage\"\r\n              
      className=\"block w-full bg-blue-500 hover:bg-blue-600 
text-white font-bold py-3 rounded-lg transition-colors text-c
enter\"\r\n                >\r\n                    繝槭う繝壹・繧ｸ縺
ｧ邱ｨ髮・r\n                </Link>\r\n                <p classNa
me=\"text-xs text-slate-500 mt-3 text-center\">\r\n          
          窶ｻ1縺､縺ｮ繧ｲ繝ｼ繝縺ｫ蟇ｾ縺励※1縺､縺ｮ繝ｬ繝薙Η繝ｼ縺ｮ縺ｿ謚慕ｨｿ縺ｧ縺阪∪縺兔r\n 
               </p>\r\n            </div>\r\n        );\r\n  
  }\r\n\r\n    const handleSubmit = async (e: React.FormEvent
) => {\r\n        e.preventDefault();\r\n        setSubmittin
g(true);\r\n        setError(\"\");\r\n\r\n        try {\r\n 
           const response = await fetch(\"/api/reviews\", {\r
\n                method: \"POST\",\r\n                header
s: { \"Content-Type\": \"application/json\" },\r\n           
     body: JSON.stringify({ placeId, rating, comment }),\r\n 
           });\r\n\r\n            const data = await response
.json();\r\n\r\n            if (!response.ok) {\r\n          
      setError(data.error || \"繝ｬ繝薙Η繝ｼ縺ｮ謚慕ｨｿ縺ｫ螟ｱ謨励＠縺ｾ縺励◆\");\
r\n                return;\r\n            }\r\n\r\n          
  setComment(\"\");\r\n            router.refresh(); // Refre
sh server components to show new review\r\n        } catch (e
rr) {\r\n            setError(\"繝ｬ繝薙Η繝ｼ縺ｮ謚慕ｨｿ縺ｫ螟ｱ謨励＠縺ｾ縺励◆\");
\r\n        } finally {\r\n            setSubmitting(false);\
r\n        }\r\n    };\r\n\r\n    return (\r\n        <form o
nSubmit={handleSubmit} className=\"bg-slate-800 p-6 rounded-x
l border border-slate-700\">\r\n            <h3 className=\"t
ext-xl font-bold text-white mb-4\">繝ｬ繝薙Η繝ｼ繧呈嶌縺・/h3>\r\n      
      <div className=\"mb-4\">\r\n                <label clas
sName=\"block text-sm text-slate-400 mb-2\">隧穂ｾ｡</label>\r\n 
               <div className=\"flex gap-2\">\r\n            
        {[1, 2, 3, 4, 5].map((n) => (\r\n                    
    <button\r\n                            key={n}\r\n       
                     type=\"button\"\r\n                     
       onClick={() => setRating(n)}\r\n                      
      className={`text-2xl transition-transform hover:scale-1
10 ${rating >= n ? \"text-yellow-400\" : \"text-slate-600\"}`
}\r\n                        >\r\n                           
 笘・r\n                        </button>\r\n                  
  ))}\r\n                </div>\r\n            </div>\r\n    
        <div className=\"mb-4\">\r\n                <label cl
assName=\"block text-sm text-slate-400 mb-2\">繧ｳ繝｡繝ｳ繝・/label>
\r\n                <textarea\r\n                    value={c
omment}\r\n                    onChange={(e) => setComment(e.
target.value)}\r\n                    rows={4}\r\n           
         className=\"w-full bg-slate-900 border border-slate-
700 rounded-lg p-3 text-white focus:ring-2 focus:ring-yellow-
500 outline-none\"\r\n                    placeholder=\"縺ゅ↑縺溘
・諢滓Φ繧貞・譛峨＠縺ｦ縺上□縺輔＞...\"\r\n                    required\r\n  
              />\r\n            </div>\r\n\r\n            {er
ror && (\r\n                <div className=\"mb-4 bg-red-500/
10 border border-red-500 text-red-500 p-3 rounded-lg text-sm\
">\r\n                    {error}\r\n                </div>\r
\n            )}\r\n\r\n            <button\r\n              
  type=\"submit\"\r\n                disabled={submitting}\r\
n                className=\"w-full bg-yellow-500 hover:bg-ye
llow-400 text-black font-bold py-3 rounded-lg transition-colo
rs disabled:opacity-50\"\r\n            >\r\n                
{submitting ? \"謚慕ｨｿ荳ｭ...\" : \"繝ｬ繝薙Η繝ｼ繧呈兜遞ｿ\"}\r\n          
  </button>\r\n        </form>\r\n    );\r\n}\r\n","usedDepre
catedRules":[]},{"filePath":"C:\\Users\\chott\\OneDrive - 譬ｪ蠑
丈ｼ夂､ｾJarminal\\GitHub\\starrepo\\src\\components\\ReviewsSect
ion.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-
vars","severity":2,"message":"'ThumbsUp' is defined but never
 used.","line":6,"column":10,"nodeType":null,"messageId":"unu
sedVar","endLine":6,"endColumn":18},{"ruleId":"@typescript-es
lint/no-unused-vars","severity":2,"message":"'Filter' is defi
ned but never used.","line":6,"column":26,"nodeType":null,"me
ssageId":"unusedVar","endLine":6,"endColumn":32},{"ruleId":"@
typescript-eslint/no-unused-vars","severity":2,"message":"'de
letingId' is assigned a value but never used.","line":38,"col
umn":12,"nodeType":null,"messageId":"unusedVar","endLine":38,
"endColumn":22},{"ruleId":"@next/next/no-img-element","severi
ty":1,"message":"Using `<img>` could result in slower LCP and
 higher bandwidth. Consider using `<Image />` from `next/imag
e` or a custom image loader to automatically optimize images.
 This may incur additional usage or cost from your provider. 
See: https://nextjs.org/docs/messages/no-img-element","line":
228,"column":33,"nodeType":"JSXOpeningElement","endLine":232,
"endColumn":35}],"suppressedMessages":[],"errorCount":3,"fata
lErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixabl
eWarningCount":0,"source":"\"use client\";\r\n\r\nimport { us
eState, useMemo } from \"react\";\r\nimport Link from \"next/
link\";\r\nimport EditReviewModal from \"./EditReviewModal\";
\r\nimport { ThumbsUp, Star, Filter, Heart, Flag, X } from \"
lucide-react\";\r\n\r\ntype Review = {\r\n    id: number;\r\n
    place_id: number;\r\n    user_id: string; // Added user_i
d\r\n    rating: number;\r\n    comment: string;\r\n    creat
ed_at: string;\r\n    like_count: number;\r\n    is_liked: bo
olean; // Current user like status\r\n    places?: {\r\n     
   place_id: number;\r\n        name: string;\r\n        thum
bnail_url: string;\r\n    };\r\n    profiles?: {\r\n        u
sername: string | null;\r\n        avatar_url: string | null;
\r\n    } | null;\r\n};\r\n\r\ntype ReviewsSectionProps = {\r
\n    initialReviews: Review[];\r\n    currentUserId?: string
;\r\n};\r\n\r\ntype SortOption = \"newest\" | \"helpful\" | \
"rating_desc\" | \"rating_asc\";\r\n\r\nexport default functi
on ReviewsSection({ initialReviews, currentUserId }: ReviewsS
ectionProps) {\r\n    const [reviews, setReviews] = useState<
Review[]>(initialReviews);\r\n    const [editingReview, setEd
itingReview] = useState<Review | null>(null);\r\n    const [d
eletingId, setDeletingId] = useState<number | null>(null);\r\
n    const [sortOption, setSortOption] = useState<SortOption>
(\"newest\");\r\n    const [likingId, setLikingId] = useState
<number | null>(null);\r\n    const [reportingReview, setRepo
rtingReview] = useState<Review | null>(null);\r\n    const [r
eportReason, setReportReason] = useState<string>(\"\");\r\n  
  const [reportDetail, setReportDetail] = useState<string>(\"
\");\r\n    const [submittingReport, setSubmittingReport] = u
seState(false);\r\n\r\n    const sortedReviews = useMemo(() =
> {\r\n        const sorted = [...reviews];\r\n        switch
 (sortOption) {\r\n            case \"newest\":\r\n          
      return sorted.sort((a, b) => new Date(b.created_at).get
Time() - new Date(a.created_at).getTime());\r\n            ca
se \"helpful\":\r\n                return sorted.sort((a, b) 
=> b.like_count - a.like_count);\r\n            case \"rating
_desc\":\r\n                return sorted.sort((a, b) => b.ra
ting - a.rating);\r\n            case \"rating_asc\":\r\n    
            return sorted.sort((a, b) => a.rating - b.rating)
;\r\n            default:\r\n                return sorted;\r
\n        }\r\n    }, [reviews, sortOption]);\r\n\r\n    cons
t handleLike = async (reviewId: number) => {\r\n        if (!
currentUserId) {\r\n            alert(\"縺・＞縺ｭ縺吶ｋ縺ｫ縺ｯ繝ｭ繧ｰ繧､繝ｳ縺
悟ｿ・ｦ√〒縺兔");\r\n            return;\r\n        }\r\n        if
 (likingId) return;\r\n\r\n        setLikingId(reviewId);\r\n
\r\n        // Optimistic UI update\r\n        const previous
Reviews = [...reviews];\r\n        setReviews(reviews.map(r =
> {\r\n            if (r.id === reviewId) {\r\n              
  return {\r\n                    ...r,\r\n                  
  is_liked: !r.is_liked,\r\n                    like_count: r
.is_liked ? Math.max(0, r.like_count - 1) : r.like_count + 1\
r\n                };\r\n            }\r\n            return 
r;\r\n        }));\r\n\r\n        try {\r\n            const 
response = await fetch(\"/api/reviews/like\", {\r\n          
      method: \"POST\",\r\n                headers: { \"Conte
nt-Type\": \"application/json\" },\r\n                body: J
SON.stringify({ reviewId }),\r\n            });\r\n\r\n      
      if (!response.ok) throw new Error(\"Failed to like\");\
r\n        } catch (error) {\r\n            console.error(\"L
ike error:\", error);\r\n            // Revert state\r\n     
       setReviews(previousReviews);\r\n            alert(\"繧ｨ
繝ｩ繝ｼ縺檎匱逕溘＠縺ｾ縺励◆\");\r\n        } finally {\r\n            set
LikingId(null);\r\n        }\r\n    };\r\n\r\n    const handl
eDelete = async (reviewId: number) => {\r\n        if (!confi
rm(\"縺薙・繝ｬ繝薙Η繝ｼ繧貞炎髯､縺励∪縺吶°・歃")) {\r\n            return;\r\n 
       }\r\n\r\n        setDeletingId(reviewId);\r\n\r\n     
   try {\r\n            const response = await fetch(`/api/re
views/${reviewId}`, {\r\n                method: \"DELETE\",\
r\n            });\r\n\r\n            if (!response.ok) {\r\n
                const data = await response.json();\r\n      
          throw new Error(data.error || \"蜑企勁縺ｫ螟ｱ謨励＠縺ｾ縺励◆\");
\r\n            }\r\n\r\n            setReviews(reviews.filte
r((review) => review.id !== reviewId));\r\n        } catch (e
rror) {\r\n            console.error(\"Failed to delete revie
w:\", error);\r\n            alert(\"繝ｬ繝薙Η繝ｼ縺ｮ蜑企勁縺ｫ螟ｱ謨励＠縺ｾ縺励◆
\");\r\n        } finally {\r\n            setDeletingId(null
);\r\n        }\r\n    };\r\n\r\n    const handleEditSuccess 
= () => {\r\n        setEditingReview(null);\r\n        windo
w.location.reload();\r\n    };\r\n\r\n    const handleReport 
= async () => {\r\n        if (!reportingReview || !reportRea
son) return;\r\n        setSubmittingReport(true);\r\n\r\n   
     try {\r\n            const response = await fetch(\"/api
/reviews/report\", {\r\n                method: \"POST\",\r\n
                headers: { \"Content-Type\": \"application/js
on\" },\r\n                body: JSON.stringify({\r\n        
            reviewId: reportingReview.id,\r\n                
    reason: reportReason,\r\n                    detail: repo
rtDetail\r\n                }),\r\n            });\r\n\r\n   
         const data = await response.json();\r\n            i
f (!response.ok) throw new Error(data.error);\r\n\r\n        
    alert(\"騾壼ｱ繧貞女縺台ｻ倥￠縺ｾ縺励◆縲ゅ＃蜊泌鴨縺ゅｊ縺後→縺・＃縺悶＞縺ｾ縺吶・");\r\n 
           setReportingReview(null);\r\n            setReport
Reason(\"\");\r\n            setReportDetail(\"\");\r\n      
  } catch (error: unknown) {\r\n            alert(error insta
nceof Error ? error.message : \"騾壼ｱ縺ｮ騾∽ｿ｡縺ｫ螟ｱ謨励＠縺ｾ縺励◆\");\r\
n        } finally {\r\n            setSubmittingReport(false
);\r\n        }\r\n    };\r\n\r\n    if (reviews.length === 0
) {\r\n        return (\r\n            <div className=\"text-
center py-12 bg-slate-800/30 rounded-xl border border-dashed 
border-slate-700\">\r\n                <p className=\"text-sl
ate-400 mb-4\">縺ｾ縺繝ｬ繝薙Η繝ｼ繧呈兜遞ｿ縺励※縺・∪縺帙ｓ</p>\r\n             
   <Link\r\n                    href=\"/\"\r\n               
     className=\"inline-block bg-yellow-500 hover:bg-yellow-4
00 text-black font-bold px-6 py-3 rounded-lg transition-color
s\"\r\n                >\r\n                    繧ｲ繝ｼ繝繧呈爾縺兔r\
n                </Link>\r\n            </div>\r\n        );\
r\n    }\r\n\r\n    return (\r\n        <>\r\n            <di
v className=\"flex flex-col sm:flex-row justify-between items
-center mb-6 gap-4\">\r\n                <div className=\"fle
x bg-[#151921] p-1 rounded-lg border border-slate-700\">\r\n 
                   {[\r\n                        { id: \"newe
st\", label: \"譁ｰ逹鬆・" },\r\n                        { id: \"
helpful\", label: \"蜿り・↓縺ｪ縺｣縺滄・" },\r\n                    
    { id: \"rating_desc\", label: \"隧穂ｾ｡縺碁ｫ倥＞鬆・" },\r\n      
              ].map((tab) => (\r\n                        <bu
tton\r\n                            key={tab.id}\r\n         
                   onClick={() => setSortOption(tab.id as Sor
tOption)}\r\n                            className={`px-4 py-
1.5 rounded-md text-sm font-medium transition-all ${sortOptio
n === tab.id\r\n                                ? \"bg-slate-
700 text-white shadow\"\r\n                                : 
\"text-slate-400 hover:text-slate-200\"\r\n                  
              }`}\r\n                        >\r\n           
                 {tab.label}\r\n                        </but
ton>\r\n                    ))}\r\n                </div>\r\n
                <div className=\"text-slate-400 text-sm\">\r\
n                    {sortedReviews.length}莉ｶ縺ｮ繝ｬ繝薙Η繝ｼ\r\n   
             </div>\r\n            </div>\r\n\r\n            
<div className=\"space-y-4\">\r\n                {sortedRevie
ws.map((review) => (\r\n                    <div\r\n         
               key={review.id}\r\n                        cla
ssName=\"bg-[#151921] rounded-xl p-5 border border-slate-800 
hover:border-slate-700 transition-colors relative\"\r\n      
              >\r\n                        {/* Edit/Delete Bu
ttons for Author */}\r\n                        {currentUserI
d && review.places?.places?.length === undefined && ( // Assu
ming this check logic from context, actually checking against
 external ID is better but here we rely on server side deleti
on protection or simplified UI check if we had user_id\r\n   
                         // Simplified: We don't have user_id
 check here explicitly unless passed. \r\n                   
         // Assuming backend handles auth for delete. But for
 UI, let's keep existing logic if any. \r\n                  
          // The previous file didn't explicitly check curren
tUserId vs review.user_id for button visibility properly in t
he snippet provided \r\n                            // but us
ually we want to show it only to owner. \r\n                 
           // Let's assume passed 'currentUserId' is usable i
f we had review.user_id. The type has it?\r\n                
            // Checked type: Review type didn't have user_id 
in previous snippet but inferred from context.\r\n           
                 // I will add user_id to Review type.\r\n   
                         true\r\n                        ) &&
 (\r\n                                <div className=\"absolu
te top-4 right-4 flex gap-2\">\r\n                           
         {/* We need review.user_id to compare */}\r\n       
                         </div>\r\n                          
  )}\r\n\r\n\r\n                        <div className=\"flex
 items-start gap-3 md:gap-4\">\r\n                           
 {/* Avatar */}\r\n                            {review.profil
es?.avatar_url ? (\r\n                                <img\r\
n                                    src={review.profiles.ava
tar_url}\r\n                                    alt={review.p
rofiles.username || \"User\"}\r\n                            
        className=\"w-10 h-10 md:w-12 md:h-12 rounded-full ob
ject-cover border border-slate-700 shrink-0\"\r\n            
                    />\r\n                            ) : (\r
\n                                <div className=\"w-10 h-10 
md:w-12 md:h-12 bg-gradient-to-br from-slate-700 to-slate-600
 rounded-full flex items-center justify-center text-white fon
t-bold text-sm border border-slate-500/30 shrink-0\">\r\n    
                                {review.profiles?.username?.[
0]?.toUpperCase() || \"?\"}\r\n                              
  </div>\r\n                            )}\r\n\r\n           
                 <div className=\"flex-1 min-w-0\">\r\n      
                          <div className=\"flex items-center 
justify-between mb-1\">\r\n                                  
  <span className=\"font-semibold text-slate-200\">\r\n      
                                  {review.profiles?.username 
|| \"蛹ｿ蜷阪Θ繝ｼ繧ｶ繝ｼ\"}\r\n                                    </
span>\r\n                                    {/* Edit/Delete 
visible if owned (logic needing review.user_id) */}\r\n      
                              {/* For now keeping original la
yout style but adding standard date */}\r\n                  
                  <span className=\"text-slate-500 text-xs\">
\r\n                                        {new Date(review.
created_at).toLocaleDateString()}\r\n                        
            </span>\r\n                                </div>
\r\n\r\n                                <div className=\"flex
 items-center gap-2 mb-3\">\r\n                              
      <div className=\"flex text-yellow-500/90 text-sm gap-0.
5\">\r\n                                        {[...Array(5)
].map((_, i) => (\r\n                                        
    <Star\r\n                                                
key={i}\r\n                                                cl
assName={`w-4 h-4 ${i < review.rating ? \"fill-yellow-500 tex
t-yellow-500\" : \"text-slate-700\"}`}\r\n                   
                         />\r\n                              
          ))}\r\n                                    </div>\r
\n                                    <span className=\"text-
slate-600 text-xs\">|</span>\r\n                             
       {/* Like Button - Disabled for own reviews */}\r\n    
                                <button\r\n                  
                      onClick={() => handleLike(review.id)}\r
\n                                        disabled={currentUs
erId === review.user_id}\r\n                                 
       className={`flex items-center gap-1.5 px-2 py-0.5 roun
ded-full text-xs font-medium transition-colors ${review.is_li
ked\r\n                                            ? \"bg-pin
k-500/20 text-pink-400 border border-pink-500/30\"\r\n       
                                     : currentUserId === revi
ew.user_id\r\n                                               
 ? \"bg-slate-800/50 text-slate-600 border border-slate-800 c
ursor-not-allowed\"\r\n                                      
          : \"bg-slate-800 text-slate-400 border border-slate
-700 hover:bg-slate-700 hover:text-slate-300\"\r\n           
                                 }`}\r\n                     
               >\r\n                                        <
Heart className={`w-3.5 h-3.5 ${review.is_liked ? \"fill-pink
-400\" : \"\"}`} />\r\n                                      
  {review.like_count > 0 ? review.like_count : \"縺・＞縺ｭ\"}\r\n
                                    </button>\r\n            
                    </div>\r\n\r\n                           
     <p className=\"text-slate-300 leading-relaxed text-sm md
:text-base whitespace-pre-wrap\">\r\n                        
            {review.comment}\r\n                             
   </p>\r\n\r\n                                {/* Action But
tons */}\r\n                                <div className=\"
flex justify-end gap-3 mt-3\">\r\n                           
         {/* Edit/Delete - only for own reviews */}\r\n      
                              {currentUserId && currentUserId
 === review.user_id && (\r\n                                 
       <>\r\n                                            <but
ton\r\n                                                onClic
k={() => setEditingReview(review)}\r\n                       
                         className=\"text-xs text-slate-500 h
over:text-white transition-colors\"\r\n                      
                      >\r\n                                  
              邱ｨ髮・r\n                                        
    </button>\r\n                                            
<button\r\n                                                on
Click={() => handleDelete(review.id)}\r\n                    
                            className=\"text-xs text-red-900/
50 hover:text-red-400 transition-colors\"\r\n                
                            >\r\n                            
                    蜑企勁\r\n                                  
          </button>\r\n                                      
  </>\r\n                                    )}\r\n          
                          {/* Report button - visible for oth
ers' reviews */}\r\n                                    {curr
entUserId && currentUserId !== review.user_id && (\r\n       
                                 <button\r\n                 
                           onClick={() => setReportingReview(
review)}\r\n                                            class
Name=\"text-xs text-slate-500 hover:text-orange-400 transitio
n-colors flex items-center gap-1\"\r\n                       
                 >\r\n                                       
     <Flag className=\"w-3 h-3\" />\r\n                      
                      騾壼ｱ\r\n                               
         </button>\r\n                                    )}\
r\n                                </div>\r\n                
            </div>\r\n                        </div>\r\n     
               </div>\r\n                ))}\r\n            <
/div>\r\n\r\n            {editingReview && (\r\n             
   <EditReviewModal\r\n                    reviewId={editingR
eview.id}\r\n                    initialRating={editingReview
.rating}\r\n                    initialComment={editingReview
.comment}\r\n                    onClose={() => setEditingRev
iew(null)}\r\n                    onSuccess={handleEditSucces
s}\r\n                />\r\n            )}\r\n\r\n           
 {/* Report Modal */}\r\n            {reportingReview && (\r\
n                <div className=\"fixed inset-0 bg-black/70 f
lex items-center justify-center z-50 p-4\">\r\n              
      <div className=\"bg-[#1c222c] rounded-xl p-6 max-w-md w
-full border border-slate-700\">\r\n                        <
div className=\"flex justify-between items-center mb-4\">\r\n
                            <h3 className=\"text-lg font-bold
 text-white\">繝ｬ繝薙Η繝ｼ繧帝壼ｱ</h3>\r\n                         
   <button\r\n                                onClick={() => 
{\r\n                                    setReportingReview(n
ull);\r\n                                    setReportReason(
\"\");\r\n                                    setReportDetail
(\"\");\r\n                                }}\r\n            
                    className=\"text-slate-400 hover:text-whi
te\"\r\n                            >\r\n                    
            <X className=\"w-5 h-5\" />\r\n                  
          </button>\r\n                        </div>\r\n\r\n
                        <div className=\"mb-4\">\r\n         
                   <label className=\"block text-sm font-medi
um text-slate-300 mb-2\">\r\n                                
騾壼ｱ逅・罰 <span className=\"text-red-400\">*</span>\r\n        
                    </label>\r\n                            <
select\r\n                                value={reportReason
}\r\n                                onChange={(e) => setRepo
rtReason(e.target.value)}\r\n                                
className=\"w-full bg-slate-800 border border-slate-700 round
ed-lg px-4 py-2 text-white focus:outline-none focus:ring-2 fo
cus:ring-orange-500\"\r\n                            >\r\n   
                             <option value=\"\">驕ｸ謚槭＠縺ｦ縺上□縺輔＞
</option>\r\n                                <option value=\"
harassment\">繝上Λ繧ｹ繝｡繝ｳ繝医・雖後′繧峨○</option>\r\n                 
               <option value=\"spam\">繧ｹ繝代Β</option>\r\n     
                           <option value=\"inappropriate\">荳埼
←蛻・↑繧ｳ繝ｳ繝・Φ繝・/option>\r\n                                <opt
ion value=\"impersonation\">縺ｪ繧翫☆縺ｾ縺・/option>\r\n            
                    <option value=\"other\">縺昴・莉・/option>\r\n
                            </select>\r\n                    
    </div>\r\n\r\n                        <div className=\"mb
-6\">\r\n                            <label className=\"block
 text-sm font-medium text-slate-300 mb-2\">\r\n              
                  隧ｳ邏ｰ・井ｻｻ諢擾ｼ噂r\n                            
</label>\r\n                            <textarea\r\n        
                        value={reportDetail}\r\n             
                   onChange={(e) => setReportDetail(e.target.
value)}\r\n                                placeholder=\"蝠城｡後
・隧ｳ邏ｰ繧呈蕗縺医※縺上□縺輔＞...\"\r\n                                cla
ssName=\"w-full bg-slate-800 border border-slate-700 rounded-
lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus
:ring-orange-500 h-24 resize-none\"\r\n                      
      />\r\n                        </div>\r\n\r\n           
             <div className=\"flex gap-3\">\r\n              
              <button\r\n                                onCl
ick={() => {\r\n                                    setReport
ingReview(null);\r\n                                    setRe
portReason(\"\");\r\n                                    setR
eportDetail(\"\");\r\n                                }}\r\n 
                               className=\"flex-1 px-4 py-2 b
g-slate-700 text-white rounded-lg hover:bg-slate-600 transiti
on-colors\"\r\n                            >\r\n             
                   繧ｭ繝｣繝ｳ繧ｻ繝ｫ\r\n                            
</button>\r\n                            <button\r\n         
                       onClick={handleReport}\r\n            
                    disabled={!reportReason || submittingRepo
rt}\r\n                                className=\"flex-1 px-
4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-60
0 transition-colors disabled:opacity-50 disabled:cursor-not-a
llowed\"\r\n                            >\r\n                
                {submittingReport ? \"騾∽ｿ｡荳ｭ...\" : \"騾壼ｱ縺吶ｋ
\"}\r\n                            </button>\r\n             
           </div>\r\n                    </div>\r\n          
      </div>\r\n            )}\r\n        </>\r\n    );\r\n}\
r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\chott\
\OneDrive - 譬ｪ蠑丈ｼ夂､ｾJarminal\\GitHub\\starrepo\\src\\lib\\sup
abase\\server.ts","messages":[{"ruleId":"@typescript-eslint/n
o-unused-vars","severity":2,"message":"'CookieOptions' is def
ined but never used.","line":1,"column":35,"nodeType":null,"m
essageId":"unusedVar","endLine":1,"endColumn":48}],"suppresse
dMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCoun
t":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"
import { createServerClient, type CookieOptions } from \"@sup
abase/ssr\";\r\nimport { cookies } from \"next/headers\";\r\n
\r\nexport async function createClient() {\r\n    const cooki
eStore = await cookies();\r\n\r\n    return createServerClien
t(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n     
   process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n        {\r
\n            cookies: {\r\n                getAll() {\r\n   
                 return cookieStore.getAll();\r\n            
    },\r\n                setAll(cookiesToSet) {\r\n         
           try {\r\n                        cookiesToSet.forE
ach(({ name, value, options }) =>\r\n                        
    cookieStore.set(name, value, options)\r\n                
        );\r\n                    } catch {\r\n              
          // The `setAll` method was called from a Server Com
ponent.\r\n                        // This can be ignored if 
you have middleware refreshing\r\n                        // 
user sessions.\r\n                    }\r\n                },
\r\n            },\r\n        }\r\n    );\r\n}\r\n","usedDepr
ecatedRules":[]},{"filePath":"C:\\Users\\chott\\OneDrive - 譬ｪ
蠑丈ｼ夂､ｾJarminal\\GitHub\\starrepo\\src\\middleware.ts","messag
es":[{"ruleId":"@typescript-eslint/no-unused-vars","severity"
:2,"message":"'options' is defined but never used.","line":20
,"column":58,"nodeType":null,"messageId":"unusedVar","endLine
":20,"endColumn":65}],"suppressedMessages":[],"errorCount":1,
"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"f
ixableWarningCount":0,"source":"import { createServerClient }
 from \"@supabase/ssr\";\r\nimport { NextResponse, type NextR
equest } from \"next/server\";\r\n\r\nexport async function m
iddleware(request: NextRequest) {\r\n    let response = NextR
esponse.next({\r\n        request: {\r\n            headers: 
request.headers,\r\n        },\r\n    });\r\n\r\n    const su
pabase = createServerClient(\r\n        process.env.NEXT_PUBL
IC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE
_ANON_KEY!,\r\n        {\r\n            cookies: {\r\n       
         getAll() {\r\n                    return request.coo
kies.getAll();\r\n                },\r\n                setAl
l(cookiesToSet) {\r\n                    cookiesToSet.forEach
(({ name, value, options }) =>\r\n                        req
uest.cookies.set(name, value)\r\n                    );\r\n  
                  response = NextResponse.next({\r\n         
               request: {\r\n                            head
ers: request.headers,\r\n                        },\r\n      
              });\r\n                    cookiesToSet.forEach
(({ name, value, options }) =>\r\n                        res
ponse.cookies.set(name, value, options)\r\n                  
  );\r\n                },\r\n            },\r\n        }\r\n
    );\r\n\r\n    await supabase.auth.getUser();\r\n\r\n    r
eturn response;\r\n}\r\n\r\nexport const config = {\r\n    ma
tcher: [\r\n        \"/((?!_next/static|_next/image|favicon.i
co|.*\\\\.(?:svg|png|jpg|jpeg|gif|webp)$).*)\",\r\n    ],\r\n
};\r\n","usedDeprecatedRules":[]}]
発生場所 C:\Program Files\nodejs\npx.ps1:29 文字:3
+   & $NODE_EXE $NPX_CLI_JS $args
+   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: ([{"filePath":"C 
   ...atedRules":[]}]:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 

info  - Need to disable some ESLint rules? Learn more here: h
ttps://nextjs.org/docs/app/api-reference/config/eslint#disabl
ing-rules
